(function(y){var q=window.AmazonUIPageJS||window.P,ra=q._namespace||q.attributeErrors,f=ra?ra("DetailPageImageBlockAssets",""):q;f.guardFatal?f.guardFatal(y)(f,window):f.execute(function(){y(f,window)})})(function(y,q,ra){y.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=q.ue;if(a){var b=a.count(f)||0;a.count(f,b+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var b=q.ue;b&&b.count(f,a)}}}});"use strict";y.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});y.register("postEarlyMetric",function(){return null});"use strict";y.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,b,n){f=f.extend(!0,{},b,n);var p=new a(f);y.register("ImageBlockAPI",function(){return p.api});return p});"use strict";y.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";y.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(y.load.js(a),q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",q.parseInt(performance.now())))}function b(a){a&&y.load.css(a)}var n=f.airyConfig;void 0===n?y.when("ImageBlockBTF").execute(function(f){n=f.airyConfig;a(n.jsUrl);b(n.cssUrl)}):(a(n.jsUrl),b(n.cssUrl))});"use strict";y.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,a,b,n,p){var h={};return function(C){var l=this;l.dispatch=function(a,b){var l=h[a];n.isDefined(l)&&f.each(l,function(a,h){h.call(q,b)})};l.register=function(a,b){n.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};l.model=new a(C,l);l.view=new b(C,l,l.model);l.api=new p(C,l,l.model);l.init=function(){l.model.init();l.view.init()};l.init()}});"use strict";y.when("A","imageBlockUtils").register("ImageBlockModel",
function(f,a){function b(b,h,f,l,p){a.isDefined(b)&&(A.type=b);a.isDefined(h)&&(A.index=h);a.isDefined(f)&&(A.thumbnailIndex=f);a.isDefined(l)&&(A.variant=l);a.isDefined(p)&&(A.color=p)}function n(a){b("image",0,0,"MAIN",a||l.landingAsinColor||l.defaultColor)}function p(a){a=a.data;F=f.copy(A);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function h(a){p(a);a=f.copy(a);a.data=f.copy(A);x.dispatch("updateView",a)}function C(){F=f.copy(A);n(A.color)}var l,x,A={},F={},H,q;return function(a,b){x=
b;l=a;x.register("updateSelection",h);x.register("updateModel",p);x.register("resetModel",C);this.init=function(){n()};this.getCurrentItem=function(){return f.copy(A)};this.getPreviousItem=function(){return f.copy(F)};this.setCurrentEvent=function(a){H=a};this.getCurrentEvent=function(){return H};this.setImmersiveViewModalInstance=function(a){q=a};this.getImmersiveViewModalInstance=function(){return q};this.updateTitle=function(a){l.title=a}}});"use strict";y.when("ImageBlockBTF","postMetric").execute(function(f,
a){function b(a,b,C,l,n){function A(a){"click"===a.type&&l.postCountMetric("thumbClick");"click"===a.type&&k.overrideAltImageClickAction?m.dispatch("thumbActionClick",a):m.dispatch("updateSelection",a)}function F(a){k.useClickZoom||m.dispatch("imageClick",a)}function H(a){k.useClickZoom||m.dispatch("imageHover",a)}function L(a){m.dispatch("button360Click",a)}function B(b){!C.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(r.update(b),"swatchHover"!==b.type&&w.getPreviousItem().thumbnailIndex!==
b.data.thumbnailIndex&&l.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):(r.render(b.data.color,!1,b.onload),b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",b))}function G(a){m.dispatch("resize",a)}function N(a){C.selectThumbnail(a,E)}function O(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function z(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===f.useIV?y.when("a-modal").execute(function(){O()}):O();k.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],A);a.declarative("thumb-action",["click"],
A);a.declarative("main-image-click",["click"],F);a.declarative("main-image-click",["mouseenter","mouseleave"],H);a.declarative("button-360-click",["click"],L);a.on("resize",G)}function c(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function v(a){var b=w.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}var r,k,m,w,E;return function(a,f,l){r=this;k=a;m=f;w=l;E=b("#imageBlock #altImages ul");var d=b("#imageBlock .canvas"),e=b("#main-image-container"),
g;r.subViews=[];for(f=0;f<n.length;f++)r.subViews.push(new n[f](a,l,r,m));r.render=function(a,c,m){var k=0;E.find(".item").remove();a=a||w.getCurrentItem().color;b.each(r.subViews,function(b,g){k=g.render(a,k,d,E,e,c,m)||k});var f=E.find(".a-button-selected").closest(".a-declarative");g=v(f)};r.init=function(){E=b("#imageBlock #altImages ul");var a=E.find(".a-button-selected").closest(".a-declarative"),d=a.data("action"),a=a.data(d)||{};a.color=k.landingAsinColor||k.defaultColor;m.dispatch("updateModel",
{data:a});r.render(a.color,!0);k.isDebug&&q.console&&console.log(k);m.register("updateView",B);m.register("selectThumbnail",N);z()};r.update=function(a){b.each(r.subViews,function(d,b){b.update(a)});k.usePeekHover&&("mouseleave"===a.type?m.dispatch("updateSelection",g):"click"===a.type&&(g=c(a)||g))}}}var n=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);y.when.apply(y,n).register("ImageBlockView",function(){for(var a=arguments[0],h=arguments[1],f=arguments[2],l=arguments[3],n=[],A=
4,F=arguments.length;A<F;A++)n.push(arguments[A]);return b(a,h,f,l,n)})});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,a,b,n,p,h,C){function l(d,e,c,g){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var k=w.getCurrentItem();if(!g||"chromeless-video"!==k.type||!m.autoplayVideo){g=0;"image"===k.type&&(g=Math.max(F(k.color,k.variant),0));var h=e+g;h>=c&&(g=0,h=e);
e=b.getImageHash(k.color,g,m);-1!==e&&(E.dispatch("updateModel",{data:{index:g,thumbnailIndex:h,variant:e.variant,type:"image"}}),e=d.find(".item").get(h),b.selectGivenThumbnail(a(e),d))}}}function x(d,e,c){e=m.colorImages&&m.colorImages[e];var g=d;b.isDefined(e)&&(a.each(e,function(a,e){d<m.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:d,variant:e.variant},e.thumb,K,"imageThumbnail"),d++)}),h.isEnabled&&C.logAltImgRequestPlacedOnThumbnails(a,h,w),l(K,g,d,c));return d}function A(d,
b){if("image"===d.type){var e=a("#image-canvas-caption #canvasCaption"),c,g=m.staticStrings,k=m.colorImages,h=d.color,f=d.index;b&&m.useIV?c=g.clickToExpand:k[h]&&k[h][f].hiRes&&m.useHoverZoom?(c=m.useHoverZoomIpad?g.touchToZoom:m.useClickZoom?g.clickToZoom:g.rollOverToZoom,m.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+m.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):m.useIV&&(c=g.clickToExpand);e.html(c)}}function F(a,d){return b.getIndexForVariant(a,d,m)}function H(d,e){var c="a-dynamic-image";
if(!m.acEnabled){var g;a.each(d.main,function(a,d){b.isDefined(g)||(g=parseFloat(d[1]/d[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=g}var k=b.getMaxDimensionsOfMainImage(d.main,P,m),h=k[0],f=k[1],k=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":f};k.addClass(c).css(h).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",d.main);return k}function q(a){var d=t.find(".swatchHoverExp");a=H(a);d.find(".imgTagWrapper").html(a);
f.loadImageManually(a);return d}function B(a){var d=P.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);a.addClass("selected");m.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses)}function G(a,d){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var e=b.getImageHash(a.color,a.index,m);if(-1===e)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},b.lazyLoadingRequired(a,w,m)?z(a,!1,d):(E.dispatch("updateModel",e),b.showUnavailable(a.color)),
-1;var c=t.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(c)){var c=a.thumbnailIndex,c=t.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height"),g=H(e,d);c.find(".placeHolder").replaceWith(g);t.find(".list").append(c);f.loadImageManually(g)}B(c);E.dispatch("loadMagnifier");A(a);m.useIV&&b.isDefined(e.hiRes)&&c.css("cursor","pointer");a.isUserGenerated&&(c=w.getPreviousItem(),g=a.variant,b.isDefined(g)&&c.thumbnailIndex!==
a.thumbnailIndex&&(h.isEnabled&&C.logAltImgRequestServed(h),p.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(p.postCountMetric("IGImageSelectedVariant:"+g),p.postCountMetric("IGImageSelectedEvent:"+a.interaction))));f.trigger("dp:image-block:update",e)}}function N(a){var d=Math.max(F(a.color,w.getCurrentItem().variant),0),d=b.getImageHash(a.color,d,m);if(-1===d)return b.lazyLoadingRequired(a,w,m)?b.lazyLoadOnHoverEnabled(m)&&(O(".3",!0),b.spinner(t,!0),f.delay(function(){w.getCurrentEvent().data===
a&&z(a,!0)},500)):b.showUnavailable(a.color),-1;var e=q(d);B(e);f.trigger("dp:image-block:update",d)}function O(d,b){b?t.css("opacity",d):a("#imageBlock").css("opacity",d)}function z(a,g,k){d=g;e=k;var h=a.color,f=m.colorToAsin[h];if(f&&f.asin){var r={};r.params={asin:f.asin,productGroupID:m.productGroupID,color:h};r.success=function(r){r?(b.ajaxState(f.asin,"success"),m.colorImages[h]=r.colorImage,b.isDefined(m.spin360ColorEnabled)&&(m.spin360ColorEnabled[h]=r.enable360),h===a.color&&(g&&d?a===w.getCurrentEvent().data&&
(c(a),N(a)):(r={type:"updatedData",data:w.getCurrentItem(),onload:k||e},E.dispatch("updateView",r))),y.register(b.rankedImagesReadyEvent(f.asin))):b.ajaxState(f.asin,"fail")};r.error=function(){b.ajaxState(f.asin,"fail")};r.indicator=b.spinner(t);b.ajaxState(f.asin,void 0)&&"fail"!==b.ajaxState(f.asin,void 0)||(O(".3",g),n.load("/gp/product/features/apparel-main-image/ranked-images.html",r),b.ajaxState(f.asin,"sent"));return m.colorImages&&m.colorImages[h]}}function c(d,e){b.lazyLoadingRequired(d,
w,m)||(a("#imageBlock").css("opacity","1"),t.css("opacity","1"),b.spinner(t,!1),t.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),e&&t.find(".list .item").remove())}function v(){var d=t.find(".item .imgTagWrapper"),e=b.getContainerHeight(P,m.holderRatio,m.holderMaxHeight);0<e&&(P.height(e),d.height(e));t.find("img.a-dynamic-image").each(function(){var d=a(this);d.data("a-manual-replacement")&&f.loadDynamicImage(this);var e=d.data("a-dynamic-image"),
e=b.getMaxDimensionsOfMainImage(e,P,m);d.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function r(a){A(w.getCurrentItem(),"mouseenter"===a.type)}var k,m,w,E,K,t,P,d,e,g;return function(a,d,e,h){k=this;m=a;w=d;E=h;m.colorImages[m.landingAsinColor]=m.colorImages[m.defaultColor];k.render=function(a,d,e,h,k,f,r){t=e;K=h;P=k;g=x(d,a,f);f||(a=w.getCurrentItem(),b.lazyLoadingRequired(a,w,m)&&E.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c(w.getCurrentItem(),!f);G(w.getCurrentItem(),r);return g};
k.update=function(a){var d=a.data;w.setCurrentEvent(a);"ingress"!==d.type&&c(a.data,!1);"swatchHover"===a.type?d.color===w.getCurrentItem().color?G(w.getCurrentItem()):a.captured||-1===N(d)||(a.captured=!0):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&p.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+g),G(d),m.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,K),"click"===a.type&&(p.postCountMetric("dpcc_imageThumbClicked_total"),
p.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+g))))};m.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");E.register("imageHover",r);E.register("resize",v)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,a,b,n,p,h){function C(a){O?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),
a.css("cursor","zoom-in"))}function l(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(c))for(var c=c[1].split("_"),h=0;h<c.length;h++){var f=c[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(f)&&(a[f[1]]=parseInt(f[2],10))}return a}function x(z,c){function v(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(F[0]+a))/(F[2]-2*a)),Math.min(1,Math.max(0,I[1]-(F[1]+a))/(F[3]-2*a))]):a=g&&g.updatePosition();if(a&&e&&e.detailSize){var d=[e.detailSize[0]-
e.rect.width,e.detailSize[1]-e.rect.height];f.capabilities.rtl?e.detailImage.get(0).style.right=-(a[0]*d[0])+"px":e.detailImage.get(0).style.left=-(a[0]*d[0])+"px";e.detailImage.get(0).style.top=-(a[1]*d[1])+"px"}}function r(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function k(d){var e=V?d.originalEvent.touches[0]||d.originalEvent.changedTouches[0]:"";I=V?[e.pageX,e.pageY]:[d.pageX,d.pageY];if(f.capabilities.rtl){var b=a(q).width();I=V?[b-e.pageX,e.pageY]:[b-d.pageX,d.pageY]}}
function m(a){V&&a.preventDefault();k(a);c.useClickZoom?a=[F[0],F[1],F[0]+F[2],F[1]+F[3]]:(a=g?g.offset:z.offsetParent().offset(),a=H.acEnabled?[a.left,a.top,A.width()+a.left,A.height()+a.top]:[J[0]+a.left,J[1]+a.top,J[0]+J[2]+a.left,J[1]+J[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||H.acEnabled&&!r(z)?(c.fadeMagnifier?N||(N=!0,ba=setTimeout(function(){w(!0)},500)):c.useClickZoom||w(),D&&(D=!1,clearTimeout(U))):(D||(D=!0,U=setTimeout(function(){n.postCountMetric("dppc_hoverZoomOpened");
p.isEnabled&&h.logHoverZoomRequestServed(p)},1E3)),c.fadeMagnifier&&N&&(N=!1,clearTimeout(ba)),v())}function w(d){d&&t.suppressMagnifier(!0);if(B&&(e&&e.hide(),g&&(g.destroy(),g=null),B=!1,V?(z.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),x(),d))z.one("click.magnifier touchstart.magnifier",function(a){E(a,!0)})}function E(d,b){b&&t.suppressMagnifier(!1);if(!B&&
!fa&&(0===Y&&(n.postCountMetric("dppc_hoverTime",new Date-(q.ue&&q.ue.t0||0)),Y=1),G[T]||(n.postCountMetric("dppc_hoverMain"),G[T]=1),J=[z.position().left,z.position().top,z.width(),z.height()],T&&(k(d),e?e.refit().show():e=new y,c.useClickZoom||(g=g||new L),F=e.getWindowSize(),v()),B=!0,V?(z.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",m).bind("touchend.magnifier",w),a(document).trigger("engaged.magnifier")):(H.acEnabled?A.unbind("mousemove.magnifier"):z.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",m)),b)){var h=a("#zoomWindow");if(0<h.length)h.one("click.magnifier touchend.magnifier",function(a){w(!0)})}}function x(){c.useHoverZoom&&(V?z.bind("touchstart.magnifier touchmove.magnifier",E):H.acEnabled?r(z)&&A.bind("mousemove.magnifier",E):z.bind("mousemove.magnifier",E))}var t=this,A=z.offsetParent(),d={detailImageUrl:z.attr("data-old-hires"),location:"over",locationElement:z,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
a.extend(d,c);c.adjustment=[10,0,-10,0];var e=null,g=null,I=null,J=null,F=null,R={"null":1,"":1,undefined:1},B=!1,fa=!1,T=c.detailImageUrl,V=c.useHoverZoomIpad||0,Y=0,G={},L=function(){function d(a){var b=Math.round(Math.min(z.width(),e.rect.width/a));a=Math.round(Math.min(z.height(),e.rect.height/a));k.css({width:b,height:a});g=[b,a]}var b=this,g=[0,0],h=(e.detailSize&&e.detailSize[0]||5E8)/J[2],f=(e.detailSize&&e.detailSize[1]||5E8)/J[3],h=f>h?f:h;a("#magnifierLens").remove();var k=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&k.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});H.showMagnifierOnHover?C(k):k.css("cursor","pointer");b.updatePosition=function(){var a=[J[2]-g[0],J[3]-g[1]],d=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-g[0]/2-J[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-g[1]/2-J[1]-b.offset.top)/a[1])),c=J[0]+Math.round(d*a[0]),a=J[1]+Math.round(e*a[1]);k.get(0).style.left=c+"px";k.get(0).style.top=a+"px";return[d,e]};b.destroy=function(){k.remove()};
b.offset=z.offsetParent().offset();d(h);b.updatePosition();k.appendTo(z.parent());e.detailImage[0].complete||e.detailImage.load(function(){var a=e.detailImage.width()/J[2];d(a);b.updatePosition()})};L.preload=function(){t.preload(c.generalImageUrls.lensBackgroundUrl)};var y=function(){function d(){var e={};if("over"===c.location){var e=c.useClickZoom,k={},r=a("#leftCol"),m=a("#centerCol"),l=a("#rightCol"),v=a("#hover-zoom-end"),w=a("#actionPanelContainer"),C=b.isjQueryObjDefined(r)?r.outerHeight():
m.outerHeight();k.top=b.isjQueryObjDefined(r)?r.offset().top:m.offset().top;k.bottom=C+k.top;k.right=b.isjQueryObjDefined(l)?l.offset().left:w.offset().left;k.left=e?0:r.offset().left+r.outerWidth();b.isjQueryObjDefined(v)&&v.offset().top>k.bottom&&(k.bottom=v.offset().top);e=k}else"right"===c.location&&(e=z.offset(),e={left:e.left+z.outerWidth(),top:e.top,right:e.left+z.outerWidth()+400,bottom:e.top+400});c.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+a(c.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,a(q).scrollTop()+a(q).height());e.left+=h[0];e.top+=h[1];e.right+=h[2];e.bottom+=h[3];e.width=e.right-e.left;e.height=e.bottom-e.top;c.enhancedHoverOverlay&&b.isDefined(q.pageXOffset)&&(k=a(q).width(),e.width=k-e.left+q.pageXOffset-18,e.height-=14);f.css({left:e.left,top:e.top,width:e.width,height:e.height});g.rect=e;return g}function e(a){var d=new Image;g.detailSize=[0,0];d.onload=function(){g.detailSize=[d.width,d.height];v()};d.src=a.attr("src");if(0<d.width&&0<d.height)g.detailSize=
[d.width,d.height];else if(c.detailImageSize)g.detailSize=c.detailImageSize;else{a=l(d.src);var b=J[2]/J[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?g.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(g.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var g=this,h=c.adjustment;a("#zoomWindow").remove();var k={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(k.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
k.border="1px solid #949494",k.borderColor="rgb(148,148,148)");var f=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(k);c.fadeMagnifier&&f.fadeIn(200);c.useClickZoom&&(O?f.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(f.css("cursor","-webkit-zoom-out"),f.css("cursor","-moz-zoom-out"),f.css("cursor","zoom-out")));g.updateImage=function(d){d=a("\x3cimg id\x3d'detailImg' src\x3d'"+d+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();f.append(d);a(document).trigger("updated.magnifier");
g.detailImage=d;e(g.detailImage)};g.refit=function(){d();e(g.detailImage);return g};c.fadeMagnifier?(g.show=function(){f.fadeIn(200);return g},g.hide=function(){f.fadeOut(200);return g}):(g.show=function(){f.show();return g},g.hide=function(){f.hide();return g});g.destroy=function(){f.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,g.rect.height]};g.updateImage(T);d();f.appendTo(document.body)},N=!1,ba,D=!1,U;t.preload=function(d){d=a.makeArray(d);for(var e=
d.length,b=0;b<e;b++)d[b]instanceof Array?t.preload(d[b]):"string"===typeof d[b]&&d[b]&&!R[d[b]]&&(R[d[b]]=new Image,R[d[b]].src=d[b])};t.changeImage=function(d,b){B&&w();T=b;z.attr("src",d);t.preload(d);J=[z.position().left,z.position().top,z.width(),z.height()];b&&("immediately"===c.preload?t.preload(b,!0):a(q).ready(function(){t.preload(b)}),e?e.updateImage(b):z.attr("data-old-hires",b))};t.destroy=function(){H.acEnabled?A.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
z.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");g&&g.destroy();g=null;e&&e.destroy();e=null};t.detailImage=function(){return e.detailImage};t.suppressMagnifier=function(a){fa=a};t.isEngaged=function(){return B};t.engageMagnifier=E;t.disengageMagnifier=w;z[0].complete?x():z.one("load",x);t.preload(z.attr("src"));q.performance&&performance.now&&q.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var ka=
c.detailImageUrl,d=function(){t.preload(ka,!0);c.useClickZoom||L.preload()},W=c.preload;W.constructor!==Array&&(W=[W]);for(var u=0;u<W.length;u++)if("immediately"===W[u])d();else if(a(q)[W[u]])a(q)[W[u]](d);else a(q).bind(W[u],d)}return t}function A(){if(H.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:H.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:H.useHoverZoomIpad,useHoverZoom:H.useHoverZoom,useClickZoom:H.useClickZoom,fadeMagnifier:H.fadeMagnifier,
zoomOutIcon:H.staticImages.zoomOutCur,enhancedHoverOverlay:H.enhancedHoverOverlay||H.atfEnhancedHoverOverlay};G&&(G.destroy(),G=void 0);var c=y.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(c)?H.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){G=new x(c,f);G.engageMagnifier(a,!0)}),O?c.css("cursor",'url("'+H.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor",
"zoom-in"))):G=new x(c,f):p.isEnabled&&h.logHoverZoomApplicability(a,p)}}var F,H,L,B,G,y,O=navigator.userAgent.match(/msie|trident/i);return function(a,b,f,h){F=this;H=a;L=b;p.refToModel=L;B=h;F.render=function(a,b,c,f,h,r){y=c;G&&(G.destroy(),G=void 0)};F.update=function(a){};B.register("loadMagnifier",A);B.register("resize",A)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,b,n){function p(a,f,h){a=(a=h?h:b.getColorFromState(f.getState().hovered_variations,
l))&&""!==a?a:l.defaultColor;A.dispatch("updateView",{type:"swatchHover",data:{color:a}});n.postCountMetric("swatchHover")}function h(a,f,h,C){a=(a=C?C:b.getColorFromState(f.getState().selected_variations,l))&&""!==a?a:l.defaultColor;a===x.getCurrentItem().color?"function"===typeof h&&h():(A.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",
a);h()}}),n.postCountMetric("swatchClick"))}var C,l,x,A;return function(a,b,n,B){C=this;l=a;x=b;A=B;f.on("image-block-twister-swatch-hover",p);f.on("image-block-twister-swatch-click",h);C.render=function(a,b,h,f,c){};C.update=function(a){}}});"use strict";y.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,b,n,p,h,C){function l(d,e,b,g){!c.autoplayVideo||J||c.useChromelessVideoPlayer?!n.isjQueryObjDefined(d.find(".a-button-selected"))&&
(b=v.getCurrentItem(),!g||c.prioritizeVideos||"chromeless-video"===b.type&&c.autoplayVideo)&&(g=n.getVideoHash(b.color,0,c),-1!==g&&(e+=0,r.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:g.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=d.find(".item").get(e),n.selectGivenThumbnail(a(e),d))):(n.selectGivenThumbnail(d.find("img:last"),d),n.fadeToThumbnail(d.find("img").length-1,E,d))}function x(a){var d=v.getCurrentItem().color;if(c.useChildVideos&&
!c.colorToVideo[d]){var e=function(){if(a){c.colorToVideo[d]=a;var e={type:"updatedData",data:v.getCurrentItem()};r.dispatch("updateView",e)}};c.lazyLoadExperienceDisabled?e():y.when(n.rankedImagesReadyEvent(c.colorToAsin[d].asin)).execute(function(){e()})}}function A(a){if(!c.useChildVideos)return n.lazyLoadingRequired(v.getCurrentItem(),v,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var d=c.colorToAsin[a];if(d&&d.asin){var e={};e.params={asin:d.asin,productGroupID:c.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(e.success=function(a){x(a)},p.load("/gp/product/features/apparel-main-image/videos.html",e));return c.colorToVideo&&c.colorToVideo[a]}}function q(){r.dispatch("selectThumbnail",n.useTabbedImmersiveView(c)?1:0)}function H(d,e,g,c){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:d[0],streamingUrls:e.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=n.isjQueryObjDefined(d.find("video"))?"HTML5":"FLASH";h.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){d.parent().css("z-index",8)},videounsupported:function(){q();h.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){q();h.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){t.seek(0)}},cuePoints:[{values:e.durationSeconds-1,type:"position",
callback:function(e,b,g){e=g.durationSeconds-g.playheadTimeSeconds;d.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*e,.1,function(){d.parent().css({"background-color":"transparent","z-index":-1});q();a(this).show().css("opacity",1)})}}]})}function L(e){if("chromeful-video"===e.type||"chromeless-video"===e.type){var b=n.getVideoHash(e.color,e.index,c);if(-1===b)return-1;if("chromeful-video"===e.type){e=E.width()/E.height();var h=parseInt(b.videoWidth,10),r=parseInt(b.videoHeight,
10);n.updateAspectRatio(e,h,r,m);t?(t.show(),n.loadMediaIntoAiry(t,b,P,c.tabletWeb)):t=c.tabletWeb?g:n.createAiryInstanceForChromeful(m,b,P,null,c.autoplayVideo,E,w,k);b:if(n.useTabbedImmersiveView(c)){if(1<n.getVideosCount(v.getCurrentItem().color,c)){if(n.isDefined(K)){w.show();break b}K=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(c.staticStrings.watchMoreVideos);w.find("#videoCaption").append(K);f.declarative.create(K,"videoIngressClick",d)}n.playVideoInImmersiveView(c,
v.getCurrentItem().color)&&(f.declarative.create(m,"videoIngressClick",d),m.attr&&m.attr("data-ux-click",""),m.children().css("z-index","-1"),m.css("display","inline-block"))}else w.find("#videoCaption").text(c.staticStrings.playVideo),w.show();b=t;c.autoplayVideo&&b&&!J&&(n.toggleVideoCaption(w),b.setVolume(0),b.show(),b.play(),J=!0)}else t?(t.show(),n.loadMediaIntoAiry(t,b,P,c.tabletWeb),t.play(),w.show()):(t=H(m,b,P))&&t.play()}}function B(e,b,g){var f=A(b);b=e;n.isDefined(f)&&0<f.length&&c.alwaysIncludeVideo&&
e===c.maxAlts&&(k.find(".item:last").remove(),e--);n.isDefined(f)&&(a.each(f,function(b,g){if(e<c.maxAlts){var r=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",m={type:r,index:b,thumbnailIndex:e,variant:g.variant};d={type:"video-ingress",index:b,thumbnailIndex:e,variant:g.variant};n.useTabbedImmersiveView(c)&&("chromeful-video"===r&&(Q+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(Q+=" a-align-top"));n.createThumbnail(m,
g.thumb,k,Q);if(2===c.dp60VideoPosition){var l=k,m=c.dp60VideoPosition;if(0!==m){var v=l.children(".imageThumbnail"),l=l.children(".videoBlockIngress");v&&l&&v[m-1]&&a(v[m-1]).before(l[0])}}n.useTabbedImmersiveView(c)&&(G(k.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL),m=1<f.length?"multiple-videos":"one-video",(v=1<f.length?f.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo)&&k.find(".videoBlockIngress").append(k.find("#videoCount_template").clone().text(v).attr("id",
"videoCount")).addClass(m));I||(I=!0,h.postCountMetric("chromeless-video"===r?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));e++}if(n.useTabbedImmersiveView(c))return!1}),l(k,b,e,g));return e}function G(a,d){var e=a.attr("src");if(e&&d){a.attr("src",d);var b=new Image;b.onload=function(d){a.attr("src",e)};b.src=e}}function N(a){t&&t.pause();a.data=d;a.clickTimeStamp=a.$event.timeStamp;var e="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";r.dispatch("imageClick",
a);h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);h.postCountMetric(e)}function O(a){g=a.airy;g.hide=function(){g.pause();f.$("#main-video-container").find(".vse-player-container").hide()};g.show=function(){f.$("#main-video-container").find(".vse-player-container").show();g.play()};g.getMediaSourceInfo=function(){return n.getMediaSourceInfo()}}var z,c,v,r,k,m,w,E,K,t,P,d,e,g,I=!1,J=!1,Q="videoThumbnail";return function(b,g,l,p){z=this;c=b;v=g;r=p;P=c.airyConfig;c.colorToVideo={};
c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;z.render=function(d,b,g,h,r,l){k=h;m=r.find("#main-video-container");w=m.parent().find("#video-canvas-caption");E=a("#main-image-container");c.useChromelessVideoPlayer||m.addClass("chromeful-container");e=B(b,d,l);L(v.getCurrentItem());n.useTabbedImmersiveView(c)&&f.declarative("videoIngressClick",["click"],N);d=v.getCurrentItem().color;b=n.getVideoHash(d,0,c);-1!==b&&c.tabletWeb&&(d=n.getNilgiriServiceAjaxRequest(c,d,b),C.get(f,
"#main-video-container",d,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return e};z.update=function(a){var b=a.data;"ingress"!==b.type&&t&&(t.hide(),m.parent().css("z-index",-1),w.hide());if("swatchHover"===a.type)b.color===v.getCurrentItem().color?L(v.getCurrentItem()):a.captured||n.lazyLoadingRequired(b,v,c)&&!n.lazyLoadOnHoverEnabled(c)&&L(v.getCurrentItem());else if("chromeful-video"===
b.type||"chromeless-video"===b.type)"mouseenter"===a.type&&h.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+e),L(b),c.usePeekHover&&"click"!==a.type||(n.selectGivenThumbnail(a.$declarativeParent,k),"click"===a.type&&n.useTabbedImmersiveView(c)&&(h.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+e),d.action="videoIngressClick",d.clickTimeStamp=a.$event.timeStamp,d.$event=a.$event,d.$currentTarget=a.$currentTarget,r.dispatch("videoIngressClick",d),h.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp)))};if(c.isDPXFeatureEnabled)f.on("triggerVideoAjax",x);f.on("vseAiry",O)}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,b,n,p,h,C,l){function x(a){return a.hiRes||a.large||a.main[a.main.length-1]}function A(){u.find("#ivTitle").click(function(){W.hide()})}function F(){M=Oa?{type:"360-spin"}:U.getCurrentItem()}function H(){var a=
u.find("#ivStage"),d=W.$container.find(".a-popover-wrapper"),e=d.find(".a-popover-inner"),d=d.height()-l.getDimension(e,"padding-top")-l.getDimension(e,"padding-bottom");u.css("height",d);var e=u.find("#ivTitle").outerHeight(!0),b=u.find("#ivVariationSelection").outerHeight(!0),g=u.find("#ivMediaSelection").outerHeight(!0),c=u.find("#ivThumbs"),f=l.getDimension(c,"margin-top")+l.getDimension(c,"margin-bottom");c.css("height",d-e-b-g-f);u.find("#ivLargeImage").css("height",d);a.css("width",u.width()-
l.getDimension(u,"padding-left")-l.getDimension(u,"padding-right")-u.find("#ivThumbColumn").width()-l.getDimension(a,"margin-left")-l.getDimension(a,"margin-right"))}function L(){u.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").show(),"chromeful-video"===M.type&&u.find("#ivVideo_"+M.index).click()):"images"===d?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").hide(),
"chromeful-video"===M.type&&(0===da&&0===Z?u.find("#iv360").click():0===da?u.find("#ivHeroImage_0").click():u.find("#ivImage_0").click())):"videos"===d&&(u.find("#ivVideoList").show(),u.find("#ivThumbs").hide(),"chromeful-video"!==M.type?u.find("#ivVideoList_0").click():u.find("#ivVideoList_"+M.index).click())})}function B(){var a=u.find("#ivStage").find("#ivLargeImage"),d=a.width(),e=a.height(),b=a.find(".fullscreen");b.removeAttr("style");var g=b.width(),c=b.height();0<b.length&&(b[0].naturalWidth&&
(g=b[0].naturalWidth),b[0].naturalHeight&&(c=b[0].naturalHeight));a.css("cursor","auto");var g=0===g?1:g,c=0===c?1:c,f=Math.min(d/g,e/c),h=c*f,k=g*f;1>f?(Pa?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;g=Math.min(k,g);c=Math.min(h-20,c);b.css({"margin-top":(e-c)/2,"margin-left":(d-g)/2,height:c,width:g});a.css("visibility","visible");Aa=!1}function G(a){var d=u.find("#ivLargeImage");
d.css("visibility","hidden");d.empty();l.animateStageIn(d);d.append(a);B()}function N(){aa&&aa.pause();u.find("#ivLarge360").css("display","none");u.find("#ivLargeVideo").css("display","none");u.find("#ivLargeImage").css("display","none");m()}function O(d){N();u.find("#ivLargeImage").css("display","block");var e;"hero-image"===d?b.isDefined(ha)&&(e=x(ha[M.index])):b.isDefined(la)&&(e=x(la[M.index]));if(b.isDefined(e)){u.find(".fullscreen").remove();var g=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),
c=u.find("#ivLargeImage");l.animateStageOut(c,function(){g.load(function(){G(g)});if(g[0].complete)G(g);else{c.empty();var d=(c.height()-104)/2,e=(c.width()-80)/2;a("\x3cimg\x3e").attr("src",D.staticImages.spinner).css({position:"relative",top:d+"px",left:e+"px"}).appendTo(c)}})}}function z(){var a=parseInt(M.index,10)+1;a>=ma.length||u.find("#ivVideo_"+a).click()}function c(){var a;b.isDefined(ma)&&(a=ma[M.index]);if(b.isDefined(a)){N();var d=u.find("#ivLargeVideo").css("display","block");aa?(aa.isDetached()&&
aa.attach(d[0]),b.loadMediaIntoAiry(aa,a,wa,D.tabletWeb),aa.show()):(aa=b.createAiryInstanceForChromeful(d,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&aa.bind("ended",z));aa.play({isAsync:!0})}}function v(){F();var a;a="hero-image"===M.type?u.find("#ivHeroImage_"+M.index):"image"===M.type?u.find("#ivImage_"+M.index):"chromeful-video"===M.type||"chromeless-video"===M.type?u.find("#ivVideo_"+M.index):"360-spin"===M.type?u.find("#iv360"):b.isDefined(ha)?u.find("#ivHeroImage_"+M.index):u.find("#ivImage_"+
M.index);b.isjQueryObjDefined(a)||(a=u.find("#ivImage_0"));r(a)}function r(a){u.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(M.type="chromeful-video",M.index=a.attr("id").split("_")[1],c()):a.hasClass("ivHeroImage")?(M.type="hero-image",M.index=a.attr("id").split("_")[1],O(M.type)):a.hasClass("iv360Image")?(M.type="360-spin",M.index=0,k()):(M.type="image",M.index=a.attr("id").split("_")[1],O(M.type))}function k(){N();u.find("#ivLarge360").css("display",
"block");P();var a=u.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});l.animateStageIn(a)},200);E();p.postCountMetric("dppc_click360");ta=Date.now()}function m(){0<ta&&(w("dppc_duration360",Date.now()-ta),ta=0)}function w(a,d){q.ue&&q.ue.count(a,d)}function E(){if(0<pa){var a=u.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function K(d,e){if(pa<d.length){var b=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});
b.hide();e.append(b);b.get(0).onload=function(){e.closest(document.documentElement).length&&(pa++,1===pa&&(E(),0<ta&&w("dppc_loadTime360",Date.now()-ta)),0<Ga&&w("dppc_perSpriteloadTime360",Date.now()-Ga),u.find("#iv360Spinner").hide(),b.show(),xa=5*S.imageLocations[Math.floor(ya/S.imageLocations[0].length)][ya%S.imageLocations[0].length],K(d,e))};b.attr("src",d[pa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function t(a){if(b.isDefined(S.spriteWidthSizes)&&0<S.spriteWidthSizes.length){var d=
S.spriteWidthSizes,e=d.length,g=d[0],c=d[e-1];if(a<=g)return g;if(a>c)return c;for(g=0;g<e;g++)if(a>d[g]&&a<=d[g+1])return d[g+1]}else return a}function P(){var e=u.find("#ivLarge360");e.children("#image-360-sprites").length||(e.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),e.css({"margin-left":0,"margin-top":0,width:e.parent().width(),height:e.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
D.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(e),Ha=!0,d())}function d(){if(b.isDefined(S.spriteURLs)&&b.isDefined(u)&&Ha&&!Ia){var d=u.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(S.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
S.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(D.staticStrings.dragToSpin).appendTo(c);c.appendTo(d);var c=S.imageWidth,f=S.imageHeight,h=d.parent().width(),k=d.parent().height(),r=0,m=0;c/f>h/k?(ua=t(h),va=Math.round(f/c*ua),na=Math.ceil(h),sa=Math.ceil(va/ua*h),m=(k-sa)/2):(va=t(k),ua=Math.round(c/f*va),sa=Math.ceil(k),na=Math.ceil(ua/va*k),r=(h-na)/2);d.css({"margin-left":r,"margin-top":m,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});
d.children("#image-360-sprites").css("width",6*na+"px");K(S.spriteURLs,u.find("#image-360-sprites"),0);c=u.find("#ivLarge360");c.bind("mousedown",J);c.bind("touchstart",e);c.bind("touchmove",g);c.bind("touchend",I);a(document).bind("mousemove",Q);a(document).bind("mouseup",R);b.isDefined(D.staticImages.grab)&&d.css("cursor","url('"+D.staticImages.grab+"'), auto");Ia=!0}}function e(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function g(a){Ba&&(X(a.originalEvent.targetTouches[0].clientX-Ja),
Ja=a.originalEvent.targetTouches[0].clientX)}function I(a){Ba&&(Ba=!1)}function J(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(D.staticImages.grabbing)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+D.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+D.staticImages.grabbing+"'), auto"));return!1}function Q(a){Ca&&(X(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function R(a){Ca&&(Ca=!1,b.isDefined(D.staticImages.grab)&&(a=u.find("#ivLarge360"),
a.css("cursor","url('"+D.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function X(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var d;a=360;for(var e=0;e<pa;e++)for(var g=0;g<S.imageLocations[e].length;g++){var c=Math.abs(xa-5*S.imageLocations[e][g]);c<a&&(a=c,d=e*S.imageLocations[0].length+g)}d!==ya&&(a=Math.floor(d/S.imageLocations[0].length),a!==Math.floor(ya/S.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),
e=u.find("#image-360-sprites").children(),La.drawImage(e[a],0,0)),a=u.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=d;a=d%S.imageLocations[0].length*-1*na;d=-1*Math.floor(d/S.imageLocations[0].length)*sa;e=u.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");e.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function fa(){u.delegate(".ivThumb","click",function(){var d=
a(this);r(d)});u.delegate(".ivThumbVideoListOuter","click",function(){u.find(".ivThumbVideoListOuter").removeClass("selected");var d=a(this);d.addClass("selected");M.type="chromeful-video";M.index=d.attr("id").split("_")[1];c()})}function T(){aa&&!aa.isDetached()&&(wa.volume=aa.getVolume(),aa.detach(),!document.all||q.atob||document.addEventListener||(aa=null));u.find("#ivLargeImage").empty();m()}function V(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function Y(d){var e=qa.left-(d.pageX-Da[0])*
Ea;f.capabilities.rtl&&(e=qa.left-(a(q).width()-d.pageX-Da[0])*Ea);d=qa.top-(d.pageY-Da[1])*Ea;e=V(e,Fa.left);d=V(d,Fa.top);u.find(".fullscreen").css({left:e,top:d})}function ea(){u.delegate("#ivLargeImage","click",function(a){if(Aa)B();else if(za){u.find(".fullscreen").removeAttr("style");if(za){var d=u.find("#ivLargeImage"),e=d.find(".fullscreen");Pa?d.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));
Aa=!0;var b=u.find("#ivLargeImage");Fa.left=b.width()-e.width();Fa.top=b.height()-e.height();var b=d.height()/2,g=d.width()/2;Da=[d.offset().left+g,d.offset().top+b];qa.top=b-e.height()/2;qa.left=g-e.width()/2;e.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(e.height()/d.height(),e.width()/d.width())}Y(a)}});u.delegate("#ivLargeImage","mousemove",function(a){Aa&&Y(a)})}function ga(d){if(b.isImmersiveViewEnabled(D,U.getCurrentItem().color))if(Ma){var e=d.$event.originalEvent;e.acknowledge&&
e.acknowledge(d.$currentTarget[0]);Oa=b.isDefined(d)&&"button-360-click"===d.action;h.isEnabled&&C.logImmersiveViewRequestServed(h);p.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(W))W.show();else{d=a("#auiImmersiveViewDiv");var e=a(q).height()-150,g=a(q).width()-75;W=Ma.create(d,{name:"immersiveView",activate:"onclick",width:g,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Na){u=a("#ivMain");d=U.getCurrentItem().color;la=D.colorImages[d];ha=D.heroImage[d];ma=D.useChildVideos?
D.colorToVideo[d]:D.videos;ra=ca()&&D.spin360ColorEnabled[d];S=ca()?D.spin360ColorData[d]:void 0;F();ja=Z=oa=da=0;b.isDefined(ha)&&(Z=ha.length);b.isDefined(la)&&(da=la.length);b.isDefined(ma)&&(oa=ma.length);ra&&(ja=1);l.populateTitle(u.find("#ivTitle"),45,D);l.populateVariationSelection(u.find("#ivVariationSelection"));d=u.find("#ivMediaSelect");0===da+ja||0===oa?(d.parent().hide(),u.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(D.staticStrings.allMedia+" ("+(Z+da+ja+oa)+")").appendTo(d),a("\x3coption/\x3e").attr("value","images").text(D.staticStrings.images+" ("+(Z+da+ja)+")").appendTo(d),a("\x3coption/\x3e").attr("value","videos").text(D.staticStrings.videos+" ("+oa+")").appendTo(d),d.parent().show(),d.val("all"));d=u.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var e=Z+da+oa+ja,c=g=0;g<e;)for(var k=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),r=0;3>r&&g<e;r++,
g++,c++)if(c<Z){var m=ha[g].thumb,v=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(k);v.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(m)+'") center no-repeat')}else if(c>=Z&&c<da+Z)m=la[g-Z].thumb,v=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-Z)).appendTo(k),v.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(m)+'") center no-repeat');
else if(c>=Z+da&&c<da+Z+ja)v=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),v.find(".ivThumbImage").css("background",'url("'+(b.isDefined(D.staticImages.icon360)?l.getResizedThumbnailURL(D.staticImages.icon360,!0):"")+'") center no-repeat');else if(m=ma[g-da-Z-ja],v=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-da-Z-ja)).appendTo(k),v.find(".ivThumbImage").css("background",
'url("'+m.thumbUrl+'") center no-repeat'),b.isDefined(m)){var w={position:"triggerTop"},n=u.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");n.find(".ivVideoPopoverTitle").text(m.title);n.find(".ivVideoPopoverDuration").text(m.durationTimestamp);w.inlineContent=n[0];f.declarative.create(v,"a-tooltip",w)}d=u.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();e=d.find(".placeholder");for(g=0;g<oa;g++)c=ma[g],k=e.clone().removeClass("placeholder").appendTo(d),
k.attr("id","ivVideoList_"+g),k.find(".ivThumbImage").css("background",'url("'+c.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(c.title),k.find(".ivThumbDuration").text(c.durationTimestamp);u.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=D.airyConfig;Na=!1;Qa()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else p.postCountMetric("immersiveViewNotExistsClickCount")}function ia(a){var e=
D.colorToAsin[a],g={},c=500;if(e&&e.asin){g.params={asin:e.asin};var f="360"+e.asin,h=Date.now();g.success=function(e){w("dppc_asyncRequestTime360",Date.now()-h);e&&b.isDefined(e.spin360.spin360Model)?(b.ajaxState(f,"success"),D.spin360ColorData[a]=e.spin360.spin360Model,a===U.getCurrentItem().color&&(S=D.spin360ColorData[a],d())):g.error()};g.error=function(){p.postCountMetric("dppc_asyncFailed360");w("dppc_asyncRequestTime360",Date.now()-h);c*=2;16E3>=c?setTimeout(function(){h=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",
g)},c):b.ajaxState(f,"fail")};b.ajaxState(f)&&"fail"!==b.ajaxState(f)||(n.load("/gp/product/features/apparel-main-image/360.html",g),b.ajaxState(f,"sent"))}}function ca(){return b.isDefined(D.spin360ConfigEnabled)&&D.spin360ConfigEnabled}var ba,D,U,ka,W,u,ha,la,ma,Z,da,oa,ja,M,aa,wa,S,ra,na,sa,va,ua,Ka,Ja,Oa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Pa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;y.when("a-modal").execute(function(a){Ma=a});var Qa=
f.once(function(){L();fa();ea();f.on("a:popover:afterUpdatePosition:immersiveView",H);f.on("a:popover:afterShow:immersiveView",v);f.on("a:popover:afterHide:immersiveView",T);A()});return function(d,e,g,c){ba=this;D=d;U=e;h.refToModel=U;ka=c;ca()&&(D.spin360ColorData[D.landingAsinColor]=D.spin360ColorData[D.defaultColor],D.spin360ColorEnabled[D.landingAsinColor]=D.spin360ColorEnabled[D.defaultColor]);b.isDefined(D.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
l.addStyleCodeToURL(D.staticImages.icon360,"_FMpng_RI_"));ba.render=function(a,d,e,g,c,h){Na=!0;ca()&&D.spin360ColorEnabled[a]&&!b.isDefined(D.spin360ColorData[a])&&(D.spin360ColorData[a]={},ia(a));b.isImmersiveViewEnabled(D,U.getCurrentItem().color)&&ca()&&D.spin360ColorEnabled[a]&&(d===D.maxAlts&&(a=g.find(".item.imageThumbnail"),e=g.find(".item.videoThumbnail"),b.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),d--),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
f.declarative.create(a,"button-360-click"),g.append(a),d++,p.postCountMetric("dppc_display360"));return d};ba.update=function(a){};b.isImmersiveViewEnabled(D,U.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ka.register("imageClick",ga);ka.register("button360Click",ga)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,b,n,p,h,C){function l(){var b=
L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-C.getDimension(c,"padding-top")-C.getDimension(c,"padding-bottom");a("#iv-tab-view-container").css("height",b);N=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<N?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),c=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=c):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",b);f.trigger("dp:image-block:immersive-view:resize")}function x(){f.trigger("dp:image-block:immersive-view:reset")}function A(r){if(b.isImmersiveViewEnabled(H,L.getCurrentItem().color))if(z){var k=r.$event.originalEvent;k.acknowledge&&k.acknowledge(r.$currentTarget[0]);p.isEnabled&&h.logImmersiveViewRequestServed(p);n.postCountMetric("dppc_immersiveViewOpened");b.isDefined(r)&&("button-360-click"===r.action?a("#iv360TabHeading").click():"videoIngressClick"===
r.action?(O=r.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());k=L.getImmersiveViewModalInstance();if(b.isDefined(k))k.show();else{r=a("#auiImmersiveViewDiv");var k=Math.min(Math.max(a(q).height()-150,540),1080),m=Math.min(Math.max(a(q).width()-75,990),1980),k=z.create(r,{name:"immersiveView",activate:"onclick",width:m,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(k);r.click()}G&&(G=!1,c(),f.trigger("dp:image-block:immersive-view:init"))}else q.performance&&
performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}var F,H,L,B,G=!0,N=0,O,z;y.when("a-modal").execute(function(a){z=a});var c=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",l);f.on("a:popover:afterShow:immersiveView",l);f.on("a:popover:afterHide:immersiveView",x)}),v=f.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(c){var h=b.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",c);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();"ivVideosTab"===h&&(c.clickTimeStamp=O||c.timeStamp);f.trigger("dp:ivTabs:"+h+":select",c);n.postCountMetric("dppc_"+h);return!1})});return function(a,c,h,f){F=this;H=a;L=c;p.refToModel=
L;B=f;F.render=function(a,b,c,h,d,e){n.postCountMetric("dpcc_altThumbs_"+b);G=!0};F.update=function(a){};F.getTitle=function(){};F.getVariationSelectionInfo=function(){};v();b.isImmersiveViewEnabled(H,L.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");B.register("imageClick",A);B.register("button360Click",A);b.useTabbedImmersiveView(H)&&B.register("videoIngressClick",A)}});"use strict";y.when("A").register("ImageBlockLoader",function(f){return{load:function(a,b){b=b||{};b.timeout=b.timeout||
4E3;f.ajax(a,b)}}});"use strict";y.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(f,a,b,n,p,h,C,l){function x(a){return null!==a&&"undefined"!==typeof a}function A(d){var e=0;a.each(d,function(a,d){var b=parseInt(d[1],10);b>e&&(e=b)});return e}function F(d){var e=0;a.each(d,function(a,d){var b=parseInt(d[0],10);b>e&&(e=b)});return e}function H(a,e,b){e=e.width();if(b.naturalMainImageSize)return e;
a=A(a);0<a&&(e=Math.min(e,a));return e}function y(a,e,b){e=e.height();if(b.naturalMainImageSize)return e;a=F(a);0<a&&(e=Math.min(e,a));return e}function B(d){var e;a.each(d,function(a,d){x(e)||(e=d[1]/d[0])});return e||1}function G(a,e,b){e.fadeTo(500,0,function(){O(a,b);e.fadeTo(500,1)})}function N(a){a&&a.toggle()}function O(d,e){var b=e.find("img");x(b[d])&&a(b[d]).click()}function z(a,e){P[a]=e?e:P[a];return P[a]}function c(d,e,b){b=b||t;b=b.colorImages;if(1>b.length||!x(b[d])||!x(e))return-1;
var c=-1;a.each(b[d],function(a,d){d.variant===e&&(c=a)});return c}function v(d,e,b){b=b||t;b=b.colorImages;return!(x(b)&&x(b[d])&&x(b[d][e])&&x(b[d][e].main))||1>a.map(b[d][e].main,function(a,d){return d}).length?-1:b[d][e]}function r(a,e,b,c){c.parent().css("z-index",2);0!==b&&0!==e&&(e/=b,a>e?c.css("width",e/a*100+"%"):c.css("height",a/e*100+"%"))}function k(d,e){var b;if(b=d.useIV)b=d.colorImages&&d.colorImages[e]&&0<d.colorImages[e].length?!0:!1;C.isEnabled&&(C.IVApplicaple=b,l.logImmersiveViewApplicability(a,
C));return b}function m(a){return a.playVideoInImmersiveView&&"false"!==a.playVideoInImmersiveView}var w,E,K,t=a.extend(!0,{},p,h),P={};return{isDefined:x,isDefinedAndEmpty:function(a){return x(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return x(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return x(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:B,
getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:H,getMaxDimensionsOfMainImage:function(a,e,b){if(b.acEnabled)return[e.height(),e.width()];var c=y(a,e,b);e=H(a,e,b);a=B(a);b=e/a;e=Math.min(e,c*a);c=Math.min(c,b);return[c,e]},getContainerHeight:function(a,e,b){var c=a.get(0);a=0;if(x(c)){a=c.offsetWidth/e;a=Math.min(a,b);var h;e=t.mainImageHeightPartitions;b=t.mainImageMaxSizes;if(x(b)&&x(e)){for(var f=0,k=q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<e.length;c++)k>
e[c]&&(f=c+1);b.length>=f&&(h=b[f])}x(h)&&(a=Math.min(h[1],a))}return a},getColorFromState:function(d,b){if(d){b=b||t;var c="";a.each(b.visualDimensions,function(a,b){d[b]&&(c+=" "+d[b])});return c&&c.substring(1)}},createThumbnail:function(a,b,c,h){var k=c.find(".template").clone().removeClass("template").addClass("item"),m=document.createElement("img");m.src=b;k.find(".placeHolder").replaceWith(m);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&k.addClass("heroImageThumbnail");x(h)&&
k.addClass(h);f.declarative.create(k,"thumb-action",a);k.attr&&k.attr("data-ux-click","");c.append(k)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(d,e,c,h,f,k,m,r){var l=a.extend({},c.foresterMetadataParams);null!==h&&(l.method+="."+h);var v=[];e.disabledViewIds&&(v=e.disabledViewIds);return b.embed({parentElement:d[0],
streamingUrls:e.url,contentId:e.mediaObjectId,contentMinAge:Number(e.minimumAge||"")||0,contentTitle:e.title,swfUrl:c.swfUrl,foresterMetadataParams:l,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:e.slateUrl,postMediaSlate:e.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===h?w||(w=!0,n.postCountMetric("dppc_chromefulVideoPlayedIV")):E||(E=!0,n.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:e.durationSeconds-1,type:"position",
callback:function(a,d,b){f&&(G(0,k,r),N(m))}}],disabledViewIds:v})},loadMediaIntoAiry:function(a,b,c,h){a&&a.getMediaSourceInfo()!==b.url&&(h?(K={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(K)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(d){d&&(a("#imageBlock .unvailableVariation").html(d),
a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:G,toggleVideoCaption:N,selectThumbnail:O,spinner:function(d,b){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),d.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)",
"z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:z,getIndexForVariant:c,getImageHash:v,lazyLoadingRequired:function(a,b,g){b=Math.max(c(a.color,b.getCurrentItem().variant,g),0);b=-1!==v(a.color,b,g);a=g.colorToAsin[a.color]&&g.colorToAsin[a.color].asin;a=!a||"success"!==z(a);return!g.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:r,repositionVideoBanner:function(a,b,c,h){setTimeout(function(){var c=a.width()/a.height();r(c,16,9,b)},h||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!x(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return x(a)&&x(a[b])&&x(a[b].url)?a[b]:-1},isImmersiveViewEnabled:k,
playVideoInImmersiveView:function(a,b){return k(a,b)&&m(a)},useTabbedImmersiveView:m,getMediaSourceInfo:function(){return x(K)?K.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=x(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:c.marketPlaceID,locale:c.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:"ASIN",imageURL:c.slateUrl,
videoURL:c.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}},addTag:function(a){q.ue&&q.ue.tag&&q.ue.tag(a)}}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,a,b,n){function p(c,h,f,m){if(!b.isjQueryObjDefined(c.find(".a-button-selected"))){var l=G.getCurrentItem();if(!m||"chromeless-video"!==
l.type||!B.autoplayVideo){m=0;if("hero-image"===l.type){m=C(l.color,l.variant);if(-1===m)return;m=-1!==m?m:0}var p=h+m;p>=f&&(m=0,p=h);h=n.getHeroImageHash(B,l.color,m);-1!==h&&(N.dispatch("updateModel",{data:{index:m,thumbnailIndex:p,variant:h.variant,type:"hero-image"}}),h=c.find(".item").get(p),b.selectGivenThumbnail(a(h),c))}}}function h(c,h,f){if("hero-video"===G.getCurrentItem().type)return c;h=B.heroImage&&B.heroImage[h];var m=c;b.isDefined(h)&&(a.each(h,function(a,h){c<B.maxAlts&&(b.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:c,variant:h.variant},h.thumb,O,"imageThumbnail"),c++)}),p(O,m,c,f));return c}function C(c,h){var f=B.heroImage;if(1>f.length||!b.isDefined(f[c])||!b.isDefined(h))return-1;var m=-1;a.each(f[c],function(a,b){b.variant===h&&(m=a)});return m}function l(){if(z.length&&B.repositionHeroImage){var a=n.getHeroDimParams(B,G.getCurrentItem()),c;b.isDefined(a)&&(c=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",z.css({"background-position":c,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function x(a,c,h,f){if(z.length&&a&&c){if("function"===typeof h||f){var l=new Image;l.onload=f?function(){z.css("background-image",'url("'+a+'")')}:h;l.src=a}h=c[1];var l=c[0],C;f||z.css({"background-image":'url("'+a+'")'});B.repositionHeroImage&&(c=n.getHeroDimParams(B,G.getCurrentItem(),c),b.isDefined(c)&&(h=c.width,l=c.height,C=b.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));z.css({"background-position":C,"background-size":h+"px "+l+"px ","max-width":h+"px ","min-height":l+"px ",filter:"","-ms-filter":""})}}function A(b,c,h,f){b=n.getHeroImageHash(B,b,c);if(-1===b)return-1;c=a.map(b.main,function(a,b){return b})[0];x(c,b.main[c],h,f)}function q(a,b,c){if("hero-image"!==a.type)return-1;var h=C(a.color,G.getCurrentItem().variant),h=-1!==h?h:0;if(-1===n.getHeroImageHash(B,a.color,h))return-1;var f=G.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;
a.variant=f.variant;a.index=h;H(a,b,c)}function H(a,b,h){var l=n.getHeroImageHash(B,a.color,a.index),C;C=a&&c&&f.equals(a,c)?!0:!1;c||(c=a);if(!C&&a||b)A(a.color,a.index,b,h),c=a;z.removeClass("hide-background");f.trigger("dp:image-block:update",l)}var y,B,G,N,O,z,c={};return function(c,f,k,m){y=this;B=c;G=f;N=m;B.heroImage[B.landingAsinColor]=B.heroImage[B.defaultColor];y.render=function(b,c,f,k,l,d,e){O=k;z=a("#heroImage");b=h(c,b,d);q(G.getCurrentItem(),e,d);return b};y.update=function(a){var c=
a.data;"ingress"!==c.type&&z.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=G.getCurrentItem().type,-1!==q(c)&&(a.captured=!0)):"hero-image"===c.type&&(H(c),"click"!==a.type&&B.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,O))};N.register("resize",l)}});"use strict";y.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(f,a,b){var n,p,h,C;return function(a,x,A,q){n=this;p=a;h=q;n.render=function(a,h,l,x,A,q,z){C=x;n=this;l=p.maxAlts;
x=h;A=p.colorImages[a]?p.colorImages[a].length:0;A+=b.getVideosCount(a,p);a=p.heroImage[a];q=0;a&&(q=a.length);a=A+q;a>l&&(l=a-l,a=C.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),l+="+",x={type:"ingress",index:0,thumbnailIndex:h,variant:""},a.find("#altIngressText").append(l),f.declarative.create(a,"thumb-action",x),C.append(a),x=h++);return x};n.update=function(a){"ingress"===a.data.type&&"click"===a.type&&h.dispatch("imageClick",
a)}}});"use strict";y.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,b,n){this.getImageHash=function(b){var h=n.getCurrentItem();b=f.getIndexForVariant(h.color,b||"MAIN",a);return f.getImageHash(h.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";y.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(f,a){function b(a,b){var f;if(b.repositionHeroImage){f=
a[1];var n=a[0];if(768>=(q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))f*=.7,n*=.7;else{var p=((q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,p=Math.max(Math.min(p,1),0);f*=.7+.3*p;n*=.7+.3*p}f=[f,n]}return f}function n(b,f,l){var n;if(l.repositionHeroImage){var p=q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;l=l.heroFocalPoint;if(a.isDefined(l)){n=Math.max((p-Math.min(1500,b))/2,0);var F=
Math.max((p-b)/2,0);n-=F;p=Math.max(Math.min(p,1500),1024);n=n+(p-420-23)/2-b/f[1]*l}}return n}function p(b,n,l){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[n])&&a.isDefined(b[n][l])&&a.isDefined(b[n][l].main))||1>f.map(b[n][l].main,function(a,b){return b}).length?-1:b[n][l]}return{getHeroImageHash:p,getHeroDimParams:function(h,C,l){if(h.repositionHeroImage){if(!a.isDefined(l)){l=p(h,C.color,C.index);if(-1===l)return;C=f.map(l.main,function(a,b){return b})[0];l=l.main[C]}C=b(l,h);h=n(C[0],
l,h);return{height:C[1],width:C[0],xPos:h,yPos:75}}}}});"use strict";y.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,b){function n(a,n){var l=f.copy(a);if(b.isDefined(a)&&a.length>n){try{for(var p=-1,q=0;q<a.length;q++){var F=a.charAt(q);if(" "===F||"."===F||"?"===F||";"===F||","===F||":"===F)p=q;if(q===n-4){l=a.substring(0,-1===p?q:p);break}}}catch(y){l=a.substring(0,n-3)}l+="..."}return l}function p(a,b){var f=a.lastIndexOf(".");return a="_"===a.charAt(f-
1)?a.substring(0,f-1)+b+a.substring(f):a.substring(0,f)+"."+b+a.substring(f)}return{getDimension:function(a,b){var f=parseInt(a.css(b),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,b){f.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){f.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:p,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var f="_AA50_";b&&(f+="FMpng_RI_");return p(a,f)},populateVariationSelection:function(f){if(b.isDefined(q.DetailPage)&&b.isDefined(q.DetailPage.StateController)){f.empty();
var n=q.DetailPage.StateController.getState(),l=n.variation_label_order,p;for(p in l)if(l.hasOwnProperty(p)){var A=l[p],F=n.selected_variations[A],A=n.variation_display_labels[A];F&&a("\x3cdiv/\x3e").addClass("ivVariations").text(A+":"+F).appendTo(f)}}},populateTitle:function(a,b,f){a.html(f.title);a.attr("title",a.text());a.html(n(f.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,f,n){q.ueLogError&&
q.ueLogError(n,{logLevel:a,attribution:b,message:f})}}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,b,n,p){function h(){p.populateTitle(k.find("#ivTitle"),160,v)}function q(){var a=r.getCurrentItem().color;w=v.colorImages[a];m=v.heroImage[a];E=K=0;b.isDefined(m)&&(E=m.length);b.isDefined(w)&&(K=w.length)}function l(a){return a.hiRes||a.large||a.main[a.main.length-1]}function x(){var a=k.find("#ivStage").find("#ivLargeImage"),
b=a.width(),d=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var f=c.width(),h=c.height();0<c.length&&(c[0].naturalWidth&&(f=c[0].naturalWidth),c[0].naturalHeight&&(h=c[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,h=0===h?1:h,m=Math.min(b/f,d/h),l=h*m,n=f*m;1>m?(P?a.css("cursor","url('"+v.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),g=!0):g=!1;f=Math.min(n,f);h=Math.min(l-20,h);c.css({"margin-top":(d-
h)/2,"margin-left":(b-f)/2,height:h,width:f});a.css("visibility","visible");e=!1}function A(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();p.animateStageIn(b);b.append(a);x()}function F(d){k.find("#ivLargeImage").css("display","none");k.find("#ivLargeImage").css("display","block");var c;"hero-image"===d?b.isDefined(m)&&(c=l(m[t.index])):b.isDefined(w)&&(c=l(w[t.index]));if(b.isDefined(c)){k.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),
f=k.find("#ivLargeImage");p.animateStageOut(f,function(){e.load(function(){A(e)});if(e[0].complete)A(e);else{f.empty();var b=(f.height()-104)/2,d=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",v.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(f)}})}}function y(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?t.type="hero-image":t.type="image";t.index=a.attr("id").split("_")[1];F(t.type);n.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(t.index,10)+1)+"_"+(E+K))}function L(){k.delegate(".ivThumb","click",function(){var b=a(this);y(b)})}function B(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function G(a){var b=J.top-(a.pageY-R[1])*Q;a=B(J.left-(a.pageX-R[0])*Q,I.left);b=B(b,I.top);k.find(".fullscreen").css({left:a,top:b})}function N(){k.delegate("#ivLargeImage","click",function(a){if(e)x();else if(g){k.find(".fullscreen").removeAttr("style");if(g){var b=k.find("#ivLargeImage"),d=b.find(".fullscreen");P?b.css("cursor",
"url('"+v.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));e=!0;var c=k.find("#ivLargeImage");I.left=c.width()-d.width();I.top=c.height()-d.height();var c=b.height()/2,f=b.width()/2;R=[b.offset().left+f,b.offset().top+c];J.top=c-d.height()/2;J.left=f-d.width()/2;d.css({position:"relative",left:J.left,top:J.top});Q=Math.max(d.height()/b.height(),d.width()/b.width())}G(a);n.postCountMetric("dpcc_iv_largeImageCLick")}});
k.delegate("#ivLargeImage","mousemove",function(a){e&&G(a)})}function O(){k.find("#ivLargeImage").empty()}function z(c){if(d){k=a("#ivMain");q();t=r.getCurrentItem();h();p.populateVariationSelection(k.find("#ivVariationSelection"));c=k.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var e=E+K,f=0,g=0;f<e;)for(var l=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),n=0;4>n&&f<e;n++,f++,g++)if(g<E){var v=m[f].thumb,z=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+f).appendTo(l);z.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(v)+'") center no-repeat')}else g>=E&&g<K+E&&(v=w[f-E].thumb,z=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-E)).appendTo(l),z.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(v)+'") center no-repeat'));X();d=!1}else h();c=a("#ivImagesTab").height();k.css("height",c);e=k.find("#ivTitle").outerHeight(!0);f=k.find("#ivVariationSelection").outerHeight(!0);
g=k.find("#ivThumbs");l=p.getDimension(g,"margin-top")+p.getDimension(g,"margin-bottom");g.css("height",c-e-f-l);k.find("#ivLargeImage").css("height",c);c=k.find("#ivStage");e=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();c.css("width",e-p.getDimension(k,"padding-left")-p.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-p.getDimension(c,"margin-left")-p.getDimension(c,"margin-right"));t=r.getCurrentItem();c="hero-image"===t.type?k.find("#ivHeroImage_"+
t.index):"image"===t.type?k.find("#ivImage_"+t.index):b.isDefined(m)?k.find("#ivHeroImage_"+t.index):k.find("#ivImage_"+t.index);b.isjQueryObjDefined(c)||(c=k.find("#ivImage_0"));y(c)}var c,v,r,k,m,w,E,K,t,P=navigator.userAgent.match(/msie|trident/i),d=!0,e=!1,g=!1,I={},J={},Q,R,d=!0,X=f.once(function(){L();N();p.attachImmersiveViewResizeHandler(z);p.attachTabDeselectHandler("ivImagesTab",O)});return function(b,e,f,g){c=this;v=b;r=e;c.render=function(b,c,e,f,g,h){d=!0;q();0===E+K?p.hideTabHeading("ivImagesTabHeading"):
p.unhideTabHeading("ivImagesTabHeading");1===E+K?a("#ivThumbs").hide():a("#ivThumbs").show()};c.update=function(a){};p.attachTabSelectHandler("ivImagesTab",z)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,b,n,p,h,C){function l(){w.delegate(".ivThumb","click",function(){var b=a(this);w.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=b.attr("id").split("_")[1])})}function x(){if(Y){var b=a("#ivVideosTab").height();w.css("height",b);var d=w.find(".vse-lb-container");K=b-p.getDimension(d,"padding-top")-p.getDimension(d,"padding-bottom");d.css({"max-height":b,overflow:"hidden"});if(X){w.css({"max-width":Math.floor(1.77*K)});return}var b=w.find(".vse-player-container"),d=w.find(".vse-video-action-strip"),c=w.find(".vse-lb-video-metadata"),e=Math.floor(K-p.getDimension(c,
"height")-p.getDimension(d,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}fa&&(b=w.find(".vse-vertical-scroll"),d=p.getDimension(b,"margin-top")+p.getDimension(b,"margin-bottom"),b.css("max-height",K-d))}function A(){y();t&&t.pause();T=!1;Q=!0;g=null;V=!0;Y=!1}function y(){T=!1;t&&t.pause()}function H(d){g=d.clickTimeStamp?
d.clickTimeStamp:f.now();b.isDefined(m)&&(m.eventTimestamp=g);R&&(C.get(f,"#ivVideoBlock",k,ca,ba),w=a("#ivVideoBlock"),r.getCurrentItem(),E=r.getCurrentItem(),ea());x();T=!0;R=!1;G()}function L(b){R&&(w=a("#ivVideoBlock"),r.getCurrentItem(),E=r.getCurrentItem(),ea());T&&G();x()}function B(a){t=a.player;Y&&(z(),G())}function G(){if(t&&T&&(w.find(".vse-lb-container").animate({opacity:1},200),t.play(m),n.postCountMetric("dpcc_vse_videoBlock_video_played"),Q)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,n.postTimeMetric("dpcc_vse_vitff",a),Q=!1)}}function N(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function O(a){P=a.popover.$popover;Y=!0;z()}function z(){Y&&V&&T&&t&&(P.addClass(f.$(P).find(".vse-lb-container").data("cssClass")),f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:m}),x(),V=!1)}var c,v,r,k,m,w,E,K,t,P,d,e,g,I,J,Q=!0,R=!0,X=!1,fa=!1,T=!1,V=!0,Y=!1,ea=f.once(function(){l();p.attachImmersiveViewResizeHandler(L);
p.attachTabDeselectHandler("ivVideosTab",y);p.attachImmersiveViewResetHandler(A)}),ga=function(d,c,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");n.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+c.placement);d=r.getCurrentItem().color;d=b.getVideoHash(d,0,v);t||(t=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),d,v.airyConfig,"ImmersiveView"));X=!0;a("#ivVideoBlock").css({"max-width":1.77*K,margin:"0 auto"});T&&X&&t.play({isAsync:!0})},ia=function(b,d,c){R||C.get(b,"#ivVideoBlock",
k,ca,ba);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ca=function(a,b,d){fa=!0;x()},ba=function(a,b,d){n.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,l,n,q){c=this;v=a;r=l;c.render=function(a,c,l,n,q,z){a=r.getCurrentItem().color;c=b.getVideoHash(a,0,v);d=v.colorToAsin[a]&&v.colorToAsin[a].asin;d=b.isDefined(d)?d:v.mediaAsin;e=null!==v.vseVideoDataSourceTreatment&&"T1"===v.vseVideoDataSourceTreatment?"ASIN":"physicalID";
I=v.contentWeblab;J=v.contentWeblabTreatment;R=!0;-1===c?p.hideTabHeading("ivVideosTabHeading"):(p.unhideTabHeading("ivVideosTabHeading"),k={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:d,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:e,videoURL:c.url,imageURL:c.slateUrl},requestId:v.dpRequestId,weblabContext:[{name:I,assignment:J,ignoreForG2S2Key:!0}],metadata:{ProductTitle:v.title}},m={videoUrl:k.video.videoURL,
contentId:k.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(g)?g:f.now(),imageUrl:k.video.imageURL,productAsin:k.product.contentID,index:0},b.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),h.get(f,"#ivVideoBlock",k,ia,ga))};c.update=function(a){};p.attachTabSelectHandler("ivVideosTab",H);f.on("vsePlayer-detailpage-imageblock",B);f.on("a:popover:afterShow:immersiveView",O);f.on("a:popover:beforeHide:immersiveView",N)}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",function(f,a,b,n,p,h,q){function l(){var b=a("#iv360Tab").height();g.css("height",b);var d=g.find("#ivTitle360").outerHeight(!0),c=g.find("#ivVariationSelection360").outerHeight(!0),e=g.find("#ivThumbs360"),f=q.getDimension(e,"margin-top")+q.getDimension(e,"margin-bottom");e.css("height",b-d-c-f);b=g.find("#ivStage360");d=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||
g.width();b.css("width",d-q.getDimension(g,"padding-left")-q.getDimension(g,"padding-right")-g.find("#ivThumbColumn360").width()-q.getDimension(b,"margin-left")-q.getDimension(b,"margin-right"))}function x(){L();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});q.animateStageIn(a)},200);A()}function A(){if(0<U){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(b,c){if(U<b.length){var e=a("\x3cimg /\x3e").css({display:"block",
width:6*J+"px",height:Q+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(U++,1===U&&(A(),0<ia&&(p.time("dppc_loadTime360",Date.now()-ia,d.mediaAsin),h.postTimeMetric("dppc_loadTime360",Date.now()-ia))),0<ca&&(p.time("dppc_perSpriteloadTime360",Date.now()-ca,d.mediaAsin),h.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ca)),g.find("#iv360Spinner").hide(),e.show(),ea=5*I.imageLocations[Math.floor(ga/I.imageLocations[0].length)][ga%I.imageLocations[0].length],
y(b,c))};e.attr("src",b[U].replace(/(\._SP)\d+(,)\d+/,"$1"+X+"$2"+R));ca=Date.now()}}function H(a){if(b.isDefined(I.spriteWidthSizes)&&0<I.spriteWidthSizes.length){var d=I.spriteWidthSizes,c=d.length,e=d[0],f=d[c-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<c;e++)if(a>d[e]&&a<=d[e+1])return d[e+1]}else return a}function L(){var b=g.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",d.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),V=!0,B())}function B(){if(b.isDefined(I.spriteURLs)&&b.isDefined(g)&&V&&!Y){var e=g.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(I.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(d.staticStrings.dragToSpin).appendTo(f);f.appendTo(e);var f=I.imageWidth,h=I.imageHeight,k=e.parent().width(),l=e.parent().height(),m=0,n=0;f/h>k/l?(X=H(k),R=Math.round(h/f*X),J=Math.ceil(k),Q=Math.ceil(R/X*k),n=(l-Q)/2):(R=H(l),X=Math.round(f/
h*R),Q=Math.ceil(l),J=Math.ceil(X/R*l),m=(k-J)/2);e.css({"margin-left":m,"margin-top":n,width:J+"px",height:Q+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*J+"px");y(I.spriteURLs,g.find("#image-360-sprites"),0);f=g.find("#ivLarge360");f.bind("mousedown",z);f.bind("touchstart",G);f.bind("touchmove",N);f.bind("touchend",O);a(document).bind("mousemove",c);a(document).bind("mouseup",v);b.isDefined(d.staticImages.grab)&&e.css("cursor","url('"+d.staticImages.grab+
"'), auto");Y=!0}}function G(a){D=!0;T=a.originalEvent.targetTouches[0].clientX}function N(a){D&&(r(a.originalEvent.targetTouches[0].clientX-T),T=a.originalEvent.targetTouches[0].clientX)}function O(a){D&&(D=!1)}function z(a){ba=!0;fa=a.originalEvent.clientX;b.isDefined(d.staticImages.grabbing)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+d.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+d.staticImages.grabbing+"'), auto"));return!1}function c(a){ba&&
(r(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function v(a){ba&&(ba=!1,b.isDefined(d.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+d.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function r(a){ea-=a/J*180;W&&(p.count("dppc_360dragToSpin",d.mediaAsin),h.postCountMetric("dppc_360dragToSpin"));W=!1;for(a=ea;0>a;)a+=360;for(;360<a;)a-=360;ea=a;var c;a=360;for(var e=0;e<U;e++)for(var f=0;f<I.imageLocations[e].length;f++){var k=
Math.abs(ea-5*I.imageLocations[e][f]);k<a&&(a=k,c=e*I.imageLocations[0].length+f)}c!==ga&&(a=Math.floor(c/I.imageLocations[0].length),a!==Math.floor(ga/I.imageLocations[0].length)&&(b.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),e=g.find("#image-360-sprites").children(),ka.drawImage(e[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ga=c;a=c%I.imageLocations[0].length*-1*J;c=-1*Math.floor(c/I.imageLocations[0].length)*
Q;e=g.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");e.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function k(){if(ha){g=a("#ivMain360");var b=e.getCurrentItem().color;E()&&K(b);I=E()?d.spin360ColorData[b]:void 0;q.populateTitle(g.find("#ivTitle360"),160,d);q.populateVariationSelection(g.find("#ivVariationSelection360"));g.find("#ivLarge360").empty();U=0;Y=V=!1;ga=ea=0;la();ha=!1}0!==a("#iv360Tab").height()&&(q.detachImmersiveViewResizeHandler(k),
l(),x(),ia=Date.now(),u=W=!0,p.count("dppc_click360",d.mediaAsin),h.postCountMetric("dppc_click360"))}function m(c,f,g){var k=d.colorToAsin[g],l={},m=500;if(!k||!k.asin)if(g===d.defaultColor)k={asin:d.winningAsin};else return;l.params={asin:k.asin};var r="360"+k.asin,v=Date.now();l.success=function(k){p.time("dppc_asyncRequestTime360",Date.now()-v,d.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-v);if(k&&b.isDefined(k.spin360)){if(k=k.spin360.spin360Model)d.spin360ColorData[g]=
k,g===e.getCurrentItem().color&&(I=d.spin360ColorData[g],B(),a("#ivThumbs360").hide(),q.unhideTabHeading("iv360TabHeading"),w(c,f,g));b.ajaxState(r,"success")}else l.error()};l.error=function(){p.count("dppc_asyncFailedTransient360",d.mediaAsin);h.postCountMetric("dppc_asyncFailedTransient360");p.time("dppc_asyncRequestTime360",Date.now()-v,d.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-v);m*=2;16E3>=m?setTimeout(function(){v=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",
l)},m):(p.count("dppc_asyncFailed360",d.mediaAsin),h.postCountMetric("dppc_asyncFailed360"),b.ajaxState(r,"fail"))};b.ajaxState(r)&&"fail"!==b.ajaxState(r)||(n.load("/gp/product/features/apparel-main-image/360.html",l),b.ajaxState(r,"sent"))}function w(a,c,g){if(b.isImmersiveViewEnabled(d,e.getCurrentItem().color)&&E()&&K(g)){if(c===d.maxAlts){g=a.find(".item.imageThumbnail");var k=a.find(".item.videoThumbnail");b.isDefined(k)&&1<k.length?k.last().remove():g.last().remove();c--}g=a.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");
f.declarative.create(g,"button-360-click");a.append(g);c++;p.count("dppc_display360",d.mediaAsin);h.postCountMetric("dppc_display360")}return c}function E(){return d&&b.isDefined(d.spin360ConfigEnabled)&&d.spin360ConfigEnabled}function K(a){return b.isDefinedAndNotEmpty(d.spin360ColorData[a])?!0:b.isDefined(d.spin360LazyLoadEnabled)&&d.spin360LazyLoadEnabled}function t(){u&&(p.time("dppc_duration360",Date.now()-ia,d.mediaAsin),h.postTimeMetric("dppc_duration360",Date.now()-ia),u=!1)}var P,d,e,g,I,
J,Q,R,X,fa,T,V=!1,Y=!1,ea=0,ga=0,ia=0,ca=0,ba=!1,D=!1,U=0,ka,W=!0,u=!1,ha=!0,la=f.once(function(){q.attachImmersiveViewResizeHandler(k);q.attachImmersiveViewResizeHandler(l);q.attachImmersiveViewResetHandler(t);q.attachTabDeselectHandler("iv360Tab",t)});return function(c,f,g,h){P=this;d=c;e=f;c=d.landingAsinColor;f=d.defaultColor;b.isDefined(d.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",q.addStyleCodeToURL(d.staticImages.icon360,"_FMpng_RI_"));
E()&&(d.spin360ColorData||(d.spin360ColorData={}),c===f&&b.isDefinedAndEmpty(d.spin360ColorData[f])&&delete d.spin360ColorData[f]);P.render=function(c,e,f,g,h,k){ha=!0;E()&&K(c)?(f=d.spin360ColorData[c],b.isDefinedAndEmpty(f)?q.hideTabHeading("iv360TabHeading"):b.isDefinedAndNotEmpty(f)?(a("#ivThumbs360").hide(),q.unhideTabHeading("iv360TabHeading"),w(g,e,c)):(d.spin360ColorData[c]={},q.hideTabHeading("iv360TabHeading"),m(g,e,c))):q.hideTabHeading("iv360TabHeading")};P.update=function(a){};q.attachTabSelectHandler("iv360Tab",
k)}});y.register("nexusLogger360",function(){return{count:function(f,a){q.ue&&q.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(f,a,b){q.ue&&q.ue.event({asin:b,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});"use strict";y.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(f,a){try{var b=q.location.host,n={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},p=b.split(".")[1],
h=-1===b.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==n[p]?n[p]:"https://www.amazon.com/vap/ew/",C="vse_lazyLoaderHook:success:",l="vse_lazyLoaderHook:error:",x="vse_preLoaderHook:success:",A="vse_preLoaderHook:error:",F="vse_lightPlayerLoaderHook:success:",H="vse_lightPlayerLoaderHook:error:",L=4E3,B=3}catch(G){a.logError("FATAL","vse_ns_desktop","[Domain] ",G)}y.register("vse_ns_preLoaderHook",function(){function b(l,n){try{var c=l.A,p=l.block,r=l.request,k=l.handleFailure,m=l.handleSuccess,
q=c.$;n--;var E=B-n-1,y=c.now();c.ajax(h+"componentbuilder",{params:r,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:r.timeout||L,withCredentials:!0,success:function(a){var b=c.now()-y;f.postTimeMetric(x,b);f.postCountMetric(x+r.page+":"+r.placement+":"+E);q(p).html(a);m(c,r,a)},error:function(a){f.postCountMetric(A+r.page+":"+r.placement+":"+E);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<n?b(l,n):(f.postCountMetric(A,1),k(c,r,a))}})}catch(t){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",t)}}return{get:function(a,f,c,h,l){b({A:a,block:f,request:c,handleFailure:l,handleSuccess:h},B)}}});y.register("vse_ns_lazyLoaderHook",function(){function b(n,p,c){try{var q=n.A,r=n.context,k=n.handleFailure,m=n.handleSuccess;p.attr("data-configuration");var w=atob(p.attr("data-configuration")),x=JSON.parse(w),y={pageContext:r,configuration:x},t=q.now();c--;var A=B-c-1;q.ajax(h+"subcomponent/"+x.type,{params:y,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:r.timeout||L,withCredentials:!0,success:function(a){var b=q.now()-t;f.postTimeMetric(C,b);f.postCountMetric(C+r.page+":"+r.placement+":"+x.type+":"+A);p.html(a);m(q,y,a)},error:function(a){f.postCountMetric(l+r.page+":"+r.placement+":"+x.type+":"+A);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?b(n,p,c):(f.postCountMetric(l,1),k(q,y,a))}})}catch(d){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",d)}}return{get:function(a,f,c,h,l){var k=a.$;k(f+" div[data-configuration]").each(function(){b({A:a,
context:c,handleFailure:l,handleSuccess:h},k(this),B)})}}});y.register("vse_ns_videoPlayer",function(){function b(l,n,c){try{var p=l.A,q=l.block,k=l.request,m=l.handleFailure,w=l.handleSuccess,x=p.$;c--;var y=B-c-1,t=p.now();p.ajax(h+"subcomponent/lightvideoplayer",{params:k,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:k.timeout||L,withCredentials:!0,success:function(a){var b=p.now()-t;f.postTimeMetric(F,b);f.postCountMetric(F+k.page+":"+k.placement+":"+
y);x(q).html(a);w(p,k,a)},error:function(a){f.postCountMetric(H+k.page+":"+k.placement+":"+y);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?b(l,c):(f.postCountMetric(H,1),m(p,k,a))}})}catch(A){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",A)}}return{get:function(a,f,c,h,l){b({A:a,block:f,request:c,handleFailure:l,handleSuccess:h},B)}}})})});
/* ******** */
(function(l){var n=window.AmazonUIPageJS||window.P,x=n._namespace||n.attributeErrors,y=x?x("DetailPageAllOffersDisplayAssets",""):n;y.guardFatal?y.guardFatal(l)(y,window):y.execute(function(){l(y,window)})})(function(l,n,x){l.when("A","jQuery").execute("all-offers-display-init",function(y,F){l.when("A","jQuery","all-offers-display-constants","all-offers-display-url-builder","all-offers-display-elements","all-offers-display-delivery-promise-handler","all-offers-display-content-loader","all-offers-display-delivery-promise-expander",
"all-offers-display-state-manager").execute("all-offers-display-pinned-offers",function(f,d,a,b,c,e,m,k,g){function h(){return 0<c.getElement(c.elements.AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT).length}var p=n.ueLogError;f.declarative(a.AOD_PINNED_OFFER_SHOW_MORE_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){try{b.$event.preventDefault(),b.$event.stopPropagation(),c.getElement(c.elements.ADDITIONAL_CONTENT_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),c.getElement(c.elements.SHOW_LESS_LINK_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),
c.getElement(c.elements.SHOW_MORE_LINK_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),h()&&(c.getElement(c.elements.AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT)[1].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS),c.getElement(c.elements.AOD_ATC_STICKY_PRIME_FULL_TEXT)[1].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS)),k.expandPinnedOfferDeliveryMessage(),g.setAodModifiedState(!0)}catch(e){n.ueLogError&&p(e,{logLevel:"ERROR",attribution:"aod",message:"[Error in registering declarative action for pinned offer]"})}});
f.declarative(a.AOD_PINNED_OFFER_SHOW_LESS_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){b.$event.preventDefault();b.$event.stopPropagation();c.getElement(c.elements.ADDITIONAL_CONTENT_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);c.getElement(c.elements.SHOW_LESS_LINK_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);c.getElement(c.elements.SHOW_MORE_LINK_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);h()&&(c.getElement(c.elements.AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT)[1].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS),
c.getElement(c.elements.AOD_ATC_STICKY_PRIME_FULL_TEXT)[1].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS));e.truncatePinnedOfferDeliveryMessage();g.setAodModifiedState(!1)});f.declarative(a.AOD_STICKY_PINNED_OFFER_SHOW_MORE_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){try{b.$event.preventDefault(),b.$event.stopPropagation(),c.getElement(c.elements.STICKY_ADDITIONAL_CONTENT_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),c.getElement(c.elements.STICKY_SHOW_LESS_LINK_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),
c.getElement(c.elements.STICKY_SHOW_MORE_LINK_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS),h()&&(c.getElement(c.elements.AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT)[0].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS),c.getElement(c.elements.AOD_ATC_STICKY_PRIME_FULL_TEXT)[0].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS)),k.expandStickyPinnedOfferDeliveryMessage(),g.setAodModifiedState(!0)}catch(e){n.ueLogError&&p(e,{logLevel:"ERROR",attribution:"aod",message:"[Error in registering declarative action for pinned offer]"})}});
f.declarative(a.AOD_STICKY_PINNED_OFFER_SHOW_LESS_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){b.$event.preventDefault();b.$event.stopPropagation();c.getElement(c.elements.STICKY_ADDITIONAL_CONTENT_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);c.getElement(c.elements.STICKY_SHOW_LESS_LINK_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);c.getElement(c.elements.STICKY_SHOW_MORE_LINK_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);h()&&(c.getElement(c.elements.AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT)[0].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS),
c.getElement(c.elements.AOD_ATC_STICKY_PRIME_FULL_TEXT)[0].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS));e.truncateStickyPinnedOfferDeliveryMessage();g.setAodModifiedState(!1)});f.declarative(a.AOD_PINNED_OFFER_SCROLL_TOP_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){b=b.$event.target.constructor.name;b!==a.HTML_ANCHOR_ELEMENT_KEY&&b!==a.HTML_INPUT_ELEMENT_KEY&&(c.getElement(c.elements.AOD_SCROLL_DIV_KEY)[0].scrollTop=0)})});l.when("A","jQuery","all-offers-display-mash").execute("aod-mash",function(f,
d,a){var b={"add-to-cart":function(c){a.addToCart(c)}};f.declarative("aw-mash-aod",["click"],function(a){"object"===typeof a&&"object"===typeof a.data&&"string"===typeof a.data.buttonID&&"function"===typeof b[a.data.buttonID]&&b[a.data.buttonID](a.data)})});l.when("A","jQuery","all-offers-display-constants","all-offers-display-content-loader","aod-load-event-handler").execute("all-offers-display",function(f,d,a,b,c){f.state("aod:assetsLoaded",{isAodAssetsLoaded:!0});f.declarative(a.AOD_SHOW_WIDGET_ACTION,
a.AOD_WIDGET_TRIGGER_EVENTS,function(a){c.renderAodAction(a)});f.declarative(a.AOD_CLOSE_WIDGET_ACTION,a.AOD_WIDGET_KEY_HANDLER,function(c){c.type!==a.AOD_WIDGET_TRIGGER_EVENTS&&(c.type!==a.AOD_KEY_DOWN_EVENT||c.$event.keyCode!==a.ENTER_KEY_CODE&&c.$event.key!==a.ENTER_KEY_CODE)||b.closeAod();c.type!==a.AOD_KEY_DOWN_EVENT||c.$event.keyCode!==a.TAB_KEY_CODE&&c.$event.key!==a.TAB_KEY_CODE||!c.$event.shiftKey||(c.$event.preventDefault(),c.$event.stopPropagation())});f.declarative(a.AOD_CLOSE_BY_ESC_KEY,
a.AOD_KEY_DOWN_EVENT,function(c){c.$event.preventDefault();c.$event.stopPropagation();c.type!==a.AOD_KEY_DOWN_EVENT||c.$event.keyCode!==a.ESC_KEY_CODE&&c.$event.key!==a.ESC_KEY_CODE||b.closeAod()});f.on(a.AOD_CLOSE_FROM_CUSTOM_CONFIGURATOR,function(){b.closeAod()})});l.when("A","jQuery","all-offers-display-constants","all-offers-display-search-helper","aod-load-event-handler","all-offers-display-ajax-controller","all-offers-display-olplink-handler","aod-csm-counter").execute("search-all-offers-display",
function(f,d,a,b,c,e,m,k){f.state("aod:assetsLoaded",{isAodAssetsLoaded:!0});var g=n.uex,h=n.uet;f.declarative(a.SEARCH_AOD_SHOW_WIDGET_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(d){d&&d.data&&b.addSearchPageContextDetails(d.data);var t=a.AOD_WEBLAB_TRIGGER_URL+a.PAGE_CONTEXT_KEY+"\x3d"+a.PAGE_CONTEXT_SEARCH;h("bb",a.AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME,{wb:1});e.call(t,{method:"post",success:function(b){h("cf",a.AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME,{wb:1});!0===b?(g("ld",
a.AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME,{wb:1}),c.renderAodAction(d)):(g("ld",a.AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME,{wb:1}),m.redirectToOlp(d))},error:function(c){var b="AOD Search weblab check ajax call error";c&&(c.responseURL?b=b+", URL:"+c.responseURL:c.http&&c.http.responseURL&&(b=b+", URL:"+c.http.responseURL));l.log("ERROR",b);k.triggerUnitCounter(a.AOD_SEARCH_WEBLAB_AJAX_FAILURE_CTR);g("ld",a.AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME,{wb:1});m.redirectToOlp(d)},
timeout:a.AOD_AJAX_TIMEOUT})})});l.when("A","jQuery","all-offers-display-constants").execute(function(f,d,a){f.declarative("ags-expand-text",a.AOD_WIDGET_TRIGGER_EVENTS,a.AOD_KEY_UP_EVENT,function(b){b.$event.preventDefault();b.$event.stopPropagation();var c=b.$target.parents("."+a.AOD_AGS_NOTE_TEXT_SECTION_CLASS);b=c.find("."+a.AOD_AGS_NOTE__EXPEND_TEXT_SECTION_CLASS);var e=c.find("."+a.AOD_AGS_NOTE_TRUNCATED_TEXT_CLASS),c=c.find("."+a.AOD_AGS_NOTE_TRUNCATED_TEXT_CLASS);e.css(a.AOD_DISPLAY_NONE_STYLE);
c.css(a.AOD_DISPLAY_NONE_STYLE);b.css(a.AOD_DISPLAY_BLOCK_STYLE)})});l.when("A","jQuery","all-offers-display-constants").execute("all-offers-atc-prime-offer-block",function(f,d,a){f.declarative(a.AOD_ATC_PRIME_OFFER_MORE_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(b){b.$event.preventDefault();b.$event.stopPropagation();var c=b.$target.parents("."+a.AOD_ATC_PRIME_OFFER_CLASS);b=c.find("."+a.AOD_ATC_PRIME_TRUNCATED_TEXT_CLASS);c=c.find("."+a.AOD_ATC_PRIME_FULL_TEXT_CLASS);b[0].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS);
c[0].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS)})});l.when("A","jQuery","all-offers-display-constants","all-offers-display-delivery-promise-expander").execute("all-offers-display-delivery-promise-actions",function(f,d,a,b){f.declarative(a.AOD_DELIVERY_PROMISE_MORE_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(a){a.$event.preventDefault();a.$event.stopPropagation();b.expandOfferListDeliveryMessage(a)})});l.when("A","jQuery","all-offers-display-constants","all-offers-display-filter-state-manager",
"all-offers-display-url-builder","all-offers-display-filter-actions","all-offers-display-filter-util","all_offers_display_filter_swatch_manager").execute("all-offers-display-filters",function(f,d,a,b,c,e,m,k){var g=n.uet;f.declarative(a.AOD_SHOW_FILTER_ACTION,a.AOD_WIDGET_KEY_HANDLER,function(c){if(c.type===a.AOD_WIDGET_TRIGGER_EVENTS||c.type===a.AOD_KEY_DOWN_EVENT&&(13===c.$event.keyCode||13===c.$event.key))e.isFilterOpen()?e.closeFilter():e.openFilter(),k.triggerFilterSwatchWeblab()});f.declarative(a.AOD_CLEAR_ALL_FILTER_ACTION,
a.AOD_WIDGET_TRIGGER_EVENTS,function(h){"function"===typeof g&&g("bb",a.AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});h.$event.preventDefault();h.$event.stopPropagation();b.clearAllCheckboxes();m.updateFilterCount(b.getCheckboxState());c.setRefMarker(a.AOD_FILTER_CLEAR_REF_MARKER);m.fetchAodContent(JSON.parse(a.AOD_DEFAULT_CHECKBOX_STATE));k.updateFilterSwatches();e.closeFilter()});f.declarative(a.AOD_TOGGLE_FILTER_CHECKBOX_ACTION,a.AOD_WIDGET_KEY_HANDLER,function(h){var e=h.data.checkboxID,d=
h.data.parentID,q=h.data.refMarker;if(h.type===a.AOD_WIDGET_TRIGGER_EVENTS||h.type===a.AOD_KEY_DOWN_EVENT&&(h.$event.keyCode===a.ENTER_KEY_CODE||h.$event.key===a.ENTER_KEY_CODE))"function"===typeof g&&g("bb",a.AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1}),h.$event.preventDefault(),h.$event.stopPropagation(),b.recordClick(e,d),m.updateFilterCount(b.getCheckboxState()),q&&c.setRefMarker(q),m.fetchAodContent(b.getCheckboxState()),k.updateFilterSwatches()});f.declarative(a.AOD_FILTER_MOUSE_LEAVE_EVENT,
a.AOD_MOUSE_MOVE_EVENT_NAME,function(a){a.$event.preventDefault();a.$event.stopPropagation();e.closeFilter()});f.declarative(a.AOD_SWATCH_EXPAND_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,function(a){a.$event.preventDefault();a.$event.stopPropagation();k.setExpandedModeTrue();k.updateFilterSwatches()})});l.when("A","jQuery","all-offers-display-pagination").execute("all-offers-display-pagination-action-handler",function(f,d,a){f.declarative("aod-load-offers","click","keyup",a.loadNextPage)});l.when("A","jQuery",
"all-offers-display-constants").execute("all-offers-display-condition",function(f,d,a){f.on(a.AOD_POP_OVER_BEFORE_SHOW_EVENT,function(b){d(".a-popover").addClass(a.AOD_POP_OVER_CLASS)});f.on(a.AOD_POP_OVER_BEFORE_HIDE_EVENT,function(b){d(".a-popover").removeClass(a.AOD_POP_OVER_CLASS)});f.declarative(a.AOD_CONDITION_EXPAND_TEXT_ACTION,a.AOD_WIDGET_TRIGGER_EVENTS,a.AOD_KEY_UP_EVENT,function(b){b.$event.preventDefault();b.$event.stopPropagation();var c=b.$target.parents("."+a.AOD_CONDITION_TEXT_SECTION_CLASS);
b=c.find("."+a.AOD_CONDITION_TRUNCATED_TEXT_CLASS);var e=c.find("."+a.AOD_CONDITION_EXPAND_TEXT_CLASS),c=c.find("."+a.AOD_CONDITION_EXPAND_LINK_CLASS);b.css(a.AOD_DISPLAY_NONE_STYLE);e.css(a.AOD_DISPLAY_INLINE_STYLE);c.css(a.AOD_DISPLAY_NONE_STYLE)})});"use strict";l.when("A","jQuery","mash","all-offers-display-ajax-controller").register("all-offers-display-mash",function(f,d,a,b){function c(a){a.preventDefault();a.stopPropagation()}function e(a){d("#all-offers-display #atc-spinner").addClass("aod-atc-display-none");
a?(d("#all-offers-display #atc-success").removeClass("aod-atc-display-none"),d("#all-offers-display #atc-toast").removeClass("aod-atc-toast-progress-styles"),d("#all-offers-display #atc-toast").addClass("aod-atc-toast-success-styles")):(d("#all-offers-display #atc-failed").removeClass("aod-atc-display-none"),d("#all-offers-display #atc-toast").removeClass("aod-atc-toast-progress-styles"),d("#all-offers-display #atc-toast").addClass("aod-atc-toast-failure-styles"))}function m(){d("#all-offers-display #atc-toast").removeClass("aod-atc-toast-failure-styles");
d("#all-offers-display #atc-toast").removeClass("aod-atc-toast-success-styles");d("#all-offers-display #atc-failed").addClass("aod-atc-display-none");d("#all-offers-display #atc-success").addClass("aod-atc-display-none");d("#all-offers-display #atc-toast").addClass("aod-atc-display-none");d("#all-offers-display #atc-spinner").addClass("aod-atc-display-none");k.removeClass("stop-scrolling");k.unbind("touchmove touchstart touchend touchcancel",c);d("#all-offers-display #atc-toast-overlay").addClass("aod-atc-display-none")}
d=f.$;var k=d("body");return{addToCart:function(g){function h(a){e(0);setTimeout(function(){m()},2E3)}function p(c,b){b&&(e(1),setTimeout(function(){m()},2E3));c=parseInt(c.numActiveItemsInCart,10);a.cart.didUpdate({newCartQuantity:c})}function t(a){a&&a.ok?p(a,!0):a&&"perOfferingRestrictionViolated"===a.error?(m(0),p(a,!1)):h(f.aa_mash_failed_add_to_cart)}function q(){h(f.aa_mash_failed_add_to_cart)}var f=g.strings;(function(a){d("#all-offers-display #atc-toast-overlay").removeClass("aod-atc-display-none");
k.addClass("aod-stop-scrolling");k.bind("touchmove touchstart touchend touchcancel",c);d("#all-offers-display #atc-toast").addClass("aod-atc-toast-progress-styles");d("#all-offers-display #atc-toast").removeClass("aod-atc-display-none");d("#all-offers-display #atc-spinner").removeClass("aod-atc-display-none");b.call("/gp/aw/detail/ajax/add-to-cart/ref\x3d"+a.refTag,{cache:!1,method:"post",params:a.inputs,timeout:a.timeout,success:t,failure:q})})(g)}}});"use strict";l.when("A").execute(function(f){f.declarative("aod-click-log",
["click"],function(d){d=d.data;if("object"===typeof d&&d.type&&"function"===typeof n.uet&&"function"===typeof n.uex){var a="aodc:"+d.type;d.subtype&&(a+=":"+d.subtype);n.uet("bb",a,{wb:1});n.uex("ld",a,{wb:1})}})});l.when("A").register("all-offers-display-ajax-controller",function(f){var d=x,a,b;return{call:function(c,e){d&&d.abort();a=e.success;b=e.error;e.success=function(c){a(c);d=x};e.error=function(a){b(a);d=x};d=f.ajax(c,e)}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-url-builder",
"all-offers-display-elements","all-offers-display-ajax-response-handler","all-offers-display-filter-state-manager","all-offers-display-filter-util","all-offers-display-utils","all-offers-display-state-manager","all-offers-display-ajax-controller","all-offers-display-olplink-handler","all_offers_display_filter_swatch_manager","aod-gestalt","aod-gestalt-assets-loader").register("all-offers-display-content-loader",function(f,d,a,b,c,e,m,k,g,h,p,t,q,w,v){function u(b,g){b&&"string"===typeof b&&b.trim()?
c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY)&&(c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY)[0].insertAdjacentHTML("beforeend",b),"function"===typeof A&&A("cf",a.AOD_FULL_LOAD_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1}),f.hide(c.getElement(c.elements.ALL_OFFERS_DISPLAY_SPINNER_KEY)),"0"===d("#"+a.AOD_OFFER_COUNT_HIDDEN_INPUT_HTML_ID).val()?e.noOfferAjaxResponseHandler():e.loadOfferAjaxResponseHandler(),w.isGestalt()&&w.isCustomBuyboxQualified()&&(v.loadAssets(),w.initializeGestaltAod()),k.updateFilterCount(m.getCheckboxState()),
q.updateFilterSwatches(),0<k.getSelectedFilterCount(m.getCheckboxState())&&q.triggerFilterSwatchWeblab(),h.setAODLoadingState(!1),"function"===typeof z&&z("ld",a.AOD_FULL_LOAD_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1})):t.redirectToOlp(g)}function r(b,e){b&&b.http&&b.http.status===a.AOD_NO_CONTENT_HTTP_STATUS?t.redirectToOlp(e):(f.hide(c.getElement(c.elements.ALL_OFFERS_DISPLAY_SPINNER_KEY)),C(),e="AllOffersDisplay ajax call error",b&&(b.responseURL?e="AllOffersDisplay ajax call error, URL:"+b.responseURL:
b.http&&b.http.responseURL&&(e="AllOffersDisplay ajax call error, URL:"+b.http.responseURL)),l.log("ERROR",e),h.setAODLoadingState(!1),"function"===typeof z&&z("ld",a.AOD_FULL_LOAD_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1}))}function B(e,h,d){f.show(c.getElement(c.elements.ALL_OFFERS_DISPLAY_SPINNER_KEY));var m=b.getDefaultParameterMap(e);b.addParams(m);b.updateDebugParameter();p.call(b.getAodUrl(),{method:"get",success:function(a){h(a,e)},error:function(a){d(a,e)},timeout:a.AOD_AJAX_TIMEOUT})}function E(){h.setAODOpenState(!0);
c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY).show(function(){D({right:"0px"})})}function C(){h.setAODOpenState(!1);var b=c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY).width()+50;D({right:"-"+b+"px"},function(){c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY).css(a.AOD_DISPLAY_NONE_STYLE)})}function D(b,e){f.animate(c.getElement(c.elements.ALL_OFFERS_DISPLAY_KEY),b,a.AOD_ANIMATION_TIMEOUT,a.AOD_ANIMATION_EASING_TYPE,e)}var A=n.uet,z=n.uex;return{loadAllAodBlocks:function(b){var e=c.getElement(c.elements.AOD_DISPLAY_RELOAD);
if(e&&e.val()===a.AOD_TRUE_STATE||h.isAodModified())h.setAODLoadingState(!0),B(b,u,r),c.getElement(c.elements.AOD_DISPLAY_RELOAD).val(a.AOD_FALSE_STATE),h.setAodModifiedState(!1)},showAod:function(e){"function"===typeof A&&A("bb",a.AOD_FULL_LOAD_INCOMPLETE_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});var d=c.getElement(c.elements.AOD_SUPERLEAF_AVAILABILITY_SELECTOR);d&&0<d.size()&&d.css(a.AOD_DISPLAY_ATTRIBUTE_NAME)===a.AOD_DISPLAY_NONE_VALUE&&(d.find("#"+a.AOD_SIDESHEET_HTML_ID)&&d.find("#"+a.AOD_SIDESHEET_HTML_ID).remove(),
d.find("#"+a.AOD_BACKGROUND_HTML_ID)&&d.find("#"+a.AOD_BACKGROUND_HTML_ID).remove());d=g.getCurrentAsin(e.data);e=k.getConditionFromDeclarativeParams(e.data,a.AOD_CONDITION_ALL_TEXT);var p=k.getConditionsApplicableForInputCondition(e),t=h.hasOpeningToClosingStateChanged(p,d);t&&(h.setAodModifiedState(!0),h.setPreviousAsinRetrieved(d));if((d=document.getElementById(a.AOD_DISPLAY_RELOAD_ELEMENT_ID))&&d.value===a.AOD_TRUE_STATE||h.isAodModified())b.resetParameterMap(),c.resetQueriedElements(),g.resetAODElements(),
m.clearAllCheckboxes(),q.setExpandedModeFalse();k.setInitialFiltersIfStateChange(t,e,p);f.show(c.getElement(c.elements.AOD_BACKGROUND_KEY));c.getElement(c.elements.AOD_BACKGROUND_KEY)&&f.show(c.getElement(c.elements.AOD_BACKGROUND_KEY));g.increaseZIndexSuperleaf();g.decreaseZIndexCNAD();g.disableScroll();E();n.history.state&&n.history.state.page===a.AOD_STATE||n.history.pushState({page:a.AOD_STATE},null);g.disableAppOverlay&&g.disableAppOverlay()},closeAod:function(){h.isAODLoading()&&"function"===
typeof z&&z("ld",a.AOD_FULL_LOAD_INCOMPLETE_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});g.decreaseZIndexSuperleaf();g.increaseZIndexCNAD();C();g.enableScroll();h.setClosingState();b.setRefMarker(a.AOD_AOD_CLOSE_FILTER_CLEAR_REF_MARKER);f.hide(c.getElement(c.elements.AOD_BACKGROUND_KEY));c.getElement(c.elements.AOD_BACKGROUND_KEY)&&f.hide(c.getElement(c.elements.AOD_BACKGROUND_KEY));g.enableAppOverlay&&g.enableAppOverlay();h.resetAODStates()}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-pagination",
"all-offers-display-pagination-display-components","all-offers-display-delivery-promise-handler").register("all-offers-display-ajax-response-handler",function(f,d,a,b,c,e){return{noOfferAjaxResponseHandler:function(){d("#"+a.AOD_FILTER_OFFER_COUNT_STRING_DIV_ID).addClass(a.AOD_NO_OFFERS_NORMAL_FONT_CLASS);d("#"+a.AOD_SORT_DETAILS_STRING_DIV_ID).css(a.AOD_DISPLAY_NONE_STYLE);d("#"+a.AOD_SCROLL_DIV_HTML_ID).css(a.AOD_OVERFLOW_X_HIDDEN_STYLE);d("#"+a.AOD_OFFER_LIST_HTML_ID).addClass(a.AOD_ZERO_OFFER_CLASS);
d("#"+a.AOD_FILTER_NO_OFFER_COLUMN_ID).addClass(a.AOD_FILTER_NO_OFFER_STRING_STYLE_CLASS);e.executeHandlers();c.hideFooter()},loadOfferAjaxResponseHandler:function(){d("#"+a.AOD_FILTER_OFFER_COUNT_STRING_DIV_ID).removeClass(a.AOD_NO_OFFERS_NORMAL_FONT_CLASS);d("#"+a.AOD_SORT_DETAILS_STRING_DIV_ID).css(a.AOD_DISPLAY_BLOCK_STYLE);d("#"+a.AOD_SCROLL_DIV_HTML_ID).css(a.AOD_OVERFLOW_SCROLL_STYLE);d("#"+a.AOD_OFFER_LIST_HTML_ID).removeClass(a.AOD_ZERO_OFFER_CLASS);d("#"+a.AOD_FILTER_NO_OFFER_COLUMN_ID).removeClass(a.AOD_FILTER_NO_OFFER_STRING_STYLE_CLASS);
b.initialisePagination();e.executeHandlers()}}});"use strict";l.when("A","jQuery","all-offers-display-constants").register("all-offers-display-filter-state-manager",function(f,d,a){function b(){for(var b=document.getElementsByClassName(a.AOD_FILTER_CHECKBOX_ID),c=0;c<b.length;c++)if(b[c].classList.contains(a.AOD_FILTER_CHECKBOX_ID))for(var e=b[c].getElementsByTagName(a.AOD_INPUT),d=0;d<e.length;d++)e[d].checked=!1}function c(){for(var b=Object.keys(g),c=0;c<b.length;c++)g[b[c]].forEach(function(b){document.querySelectorAll("#"+
b).forEach(function(b){b.classList.contains(a.AOD_FILTER_CHECKBOX_ID)&&(b.getElementsByTagName(a.AOD_INPUT)[0].checked=!0)})})}function e(){b();c()}function m(a){for(var b=Object.keys(a),c=0;c<b.length;c++)a[b[c]]||delete a[b[c]];return a}var k=JSON.parse(a.AOD_DEFAULT_CHECKBOX_STATE),g={};return{getSelectedFiltersMap:function(){return g},getCheckboxState:function(){return m(k)},setSelectedFiltersMap:function(a){g=a},setCheckboxState:function(a){k=m(a)},clearAllCheckboxes:function(){g={};k=JSON.parse(a.AOD_DEFAULT_CHECKBOX_STATE);
b()},recordClick:function(b,c){(b===a.CONDITION_OPEN_BOX||c===a.CONDITION_OPEN_BOX)&&g[a.CONDITION_USED]&&0<g[a.CONDITION_USED].size&&(g[a.CONDITION_OPEN_BOX]=new Set(a.OPENBOX_SELECTED_FILTER),delete g[a.CONDITION_USED]);if(0===c.length){c=g&&g[b]&&0<g[b].size;var d=document.getElementById(a.AOD_SIDESHEET_HTML_ID).getElementsByClassName(b),m=new Set;c&&(m=g[b]);var f=m;c?f.delete(b):f.add(b);if(d&&0<d.length)for(f=0;f<d.length;f++){var v=d[f];c?delete k[v.id]:k[v.id]=!0;var v=v.id,u=m;c?u.delete(v):
u.add(v)}else k[b]=!c;g[b]=m}else d=new Set,d.add(c),g[c]&&0<g[c].size&&(d=g[c]),k[b]?(m=d,k[b]?m.delete(b):m.add(b),delete k[b]):(k[b]=!0,d.add(b)),1===d.size&&(d=new Set),g[c]=d;e();return k},updateCheckboxState:e}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-url-builder","all-offers-display-pagination","all-offers-display-elements","all-offers-display-ajax-response-handler","all-offers-display-ajax-controller","all-offers-display-filter-state-manager","all_offers_display_filter_swatch_manager").register("all-offers-display-filter-util",
function(f,d,a,b,c,e,m,k,g,h){function p(b){e.getElement(e.elements.AOD_OFFER_LIST_KEY).html(b);"function"==typeof uet&&uet("cf",a.AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});e.getElement(e.elements.AOD_FILTER_OFFER_COUNT_STRING_DIV_KEY).html(d("#"+a.AOD_OFFER_COUNT_STRING_DIV_ID).val());"0"===d("#"+a.AOD_OFFER_COUNT_HIDDEN_INPUT_HTML_ID).val()?m.noOfferAjaxResponseHandler():m.loadOfferAjaxResponseHandler();"function"==typeof uex&&uex("ld",a.AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1})}
function t(b,c,e){l.log("ERROR","AllOffersDisplay");"function"==typeof uex&&uex("ld",a.AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1})}return{updateFilterCount:function(b){b=Object.keys(b).length-1;0<b?d("#"+a.AOD_FILTER_STRING_ID).text(d("#"+a.AOD_FILTER_SELECTED_COUNT_ID).val()+" ("+b+")"):d("#"+a.AOD_FILTER_STRING_ID).text(d("#"+a.AOD_FILTER_SELECTED_COUNT_ID).val())},getSelectedFilterCount:function(a){return Object.keys(a).length-1},fetchAodContent:function(e){c.resetPagination();b.addParam(a.AOD_FILTER_REQUEST_KEY,
JSON.stringify(e));b.addParam(a.AOD_ONLY_RENDER_OFFER_LIST_PARAM,"true");k.call(b.getAodUrl(),{method:"get",success:p,error:t,timeout:a.AOD_AJAX_TIMEOUT})},getConditionsApplicableForInputCondition:function(b){return b&&(b=b.toLowerCase().trim(),a.CONDITIONS_MAP[b])?(b=a.CONDITIONS_MAP[b],b[a.AOD_CONDITION_ALL_TEXT]=!0,b):JSON.parse(a.AOD_DEFAULT_CHECKBOX_STATE)},getConditionFromDeclarativeParams:function(a,b){return a&&"object"===typeof a&&a.condition?a.condition.toLowerCase().trim():b},setInitialFiltersIfStateChange:function(c,
e,d){if(c&&e!==a.AOD_CONDITION_ALL_TEXT){c=Object.keys(d);for(d=0;d<c.length;d++){var m=c[d];m!==a.AOD_CONDITION_ALL_TEXT&&(m===e?g.recordClick(m,""):g.recordClick(m,e))}b.addParam(a.AOD_FILTER_REQUEST_KEY,JSON.stringify(g.getCheckboxState()))}}}});l.when("A","jQuery","all-offers-display-constants").register("all-offers-display-filter-actions",function(f,d,a){function b(){return!(0<d(c+":visible").length)}var c="#"+a.AOD_FILTER_SHOW_ARROW_ID,e="#"+a.AOD_FILTER_HIDE_ARROW_ID,m="#"+a.AOD_FILTER_CONTAINER_ID;
return{isFilterOpen:b,openFilter:function(){b()||(d(c).css(a.AOD_DISPLAY_NONE_STYLE),d(e).css(a.AOD_DISPLAY_BLOCK_STYLE),d(m).css(a.AOD_DISPLAY_BLOCK_STYLE))},closeFilter:function(){b()&&(d(c).css(a.AOD_DISPLAY_BLOCK_STYLE),d(e).css(a.AOD_DISPLAY_NONE_STYLE),d(m).css(a.AOD_DISPLAY_NONE_STYLE))}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-elements","all-offers-display-delivery-promise-counter","all-offers-display-weblab-trigger").register("all-offers-display-delivery-promise-handler",
function(f,d,a,b,c,e){function m(b,e,d,m){e=document.querySelectorAll("#"+a.AOD_SIDESHEET_HTML_ID+" "+e);for(var g=0;g<e.length;g++){var h=e[g],k=h.dataset.messageid;if(k&&(b[k]&&!m&&b[k].stopTimer(),!b[k]||!m)){var f;a:{f=d;var p=h.dataset.secondsleft,h=h.closest(a.AOD_FASTTRACK_CSS_SELECTOR);if(p&&h&&(p=parseInt(p),0<p)){f=new c.fastTrackCountDown(p,h.id+" "+f);break a}f=void 0}b[k]=f}}return b}function k(a){p(b.getElementIdentifier(b.elements.AOD_OFFER_LIST_KEY),a)}function g(a){p(b.getElementIdentifier(b.elements.AOD_PINNED_OFFER),
a)}function h(a){p(b.getElementIdentifier(b.elements.AOD_STICKY_PINNED_OFFER),a)}function p(c,e){var m=document.querySelectorAll(c+" "+a.AOD_FASTTRACK_CSS_SELECTOR);u(m,l,e,c);m=document.querySelectorAll(c+" "+a.AOD_SCHEDULED_DELIVERY_CSS_SELECTOR);u(m,q,e,c);for(var m=document.querySelectorAll(c+" "+a.AOD_DYNAMIC_DELIVERY_DIV_SELECTOR),g=0;g<m.length;g++){var h=m[g];if(!e||!h.classList.contains(a.AOD_DDM_PROMISE_EXPANDED_CSS_NAME)){var k=h.querySelector(a.AOD_DDM_MESSAGE_DIV_SELECTOR),f=k.firstElementChild;
null!==f&&"BR"===f.tagName&&k.removeChild(f);var p=parseInt(d(h).css("line-height"),10);if(k=k.querySelector(a.AOD_UPSELL_MESSAGE_DIV_SELECTOR))k=k.parentElement;k&&null!==f&&"BR"!==f.tagName&&k.scrollHeight>p&&(f=h.closest(a.AOD_DELIVERY_PROMISE_COLUMN_CSS_SELECTOR),t(f),f=f.closest(a.AOD_DELIVERY_PROMISE_CSS_SELECTOR).querySelector(a.AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR),h.classList.add(a.AOD_DDM_PROMISE_EXPANDED_CSS_NAME),k.classList.add(a.AUI_HIDE_ELEMENT_CSS_NAME),c!==b.getElementIdentifier(b.elements.AOD_PINNED_OFFER)&&
c!==b.getElementIdentifier(b.elements.AOD_STICKY_PINNED_OFFER)&&f.classList.remove(a.AUI_HIDE_ELEMENT_CSS_NAME),f.classList.add(a.AOD_DDM_MORE_IDENTIFIER))}}}function t(b){var c=b.parentElement.querySelector(a.AOD_DELIVERY_BOTTOMSHEET_CSS_SELECTOR);if(c){var e=b.cloneNode(!0);e.classList.add(a.AOD_BOTTOM_SHEET_PADDING_CLASS);e.classList.add(a.AOD_DELIVERY_MEASURE_HEIGHT_CSS_NAME);b.append(e);b.dataset.bottomsheetheight=e.offsetHeight;c.append(e);e.classList.remove(a.AOD_DELIVERY_MEASURE_HEIGHT_CSS_NAME)}}
function q(b,c,e){b=b.querySelector(a.AOD_SCHEDULED_DELIVERY_ROOT_DIV_SELECTOR);b.insertBefore(c,b.firstElementChild.nextSibling)}function l(b,c,e){var d=b.querySelector(a.AOD_DELIVERY_MESSAGE_DIV_SELECTOR+", "+a.AOD_UPSELL_MESSAGE_DIV_SELECTOR+", "+a.AOD_AMAZON_DAY_MESSAGE_DIV_SELECTOR);e.classList.add(a.AUI_GRID_8_CSS);e.classList.remove(a.AUI_GRID_12_CSS);d.offsetWidth<b.offsetWidth&&((b=d.querySelector("br"))?b.parentNode.insertBefore(c,b):d.append(c),e.classList.add(a.AUI_GRID_12_CSS))}function v(a){return a===
x||null==a||0>=a.length?!0:!1}function u(c,e,m,g){for(e=0;e<c.length;e++){var h=c[e],f=h.querySelector(a.AOD_FASTTRACK_UPSELL_DIV_SELECTOR),k=h.querySelector(a.AOD_FASTTRACK_DELIVERY_PROMISE_DIV_SELECTOR);if(v(f)||!(f.classList.contains(a.AOD_FASTTRACK_UPSELL_HIDE_CLASS)||m&&f.classList.contains(a.AOD_FASTTRACK_UPSELL_SHOW_CLASS))){if(!v(f))var p=parseInt(d(f).css("line-height"),10),q=f.scrollHeight;!v(k)&&!v(f)&&q>p&&(h=h.closest(a.AOD_DELIVERY_PROMISE_COLUMN_CSS_SELECTOR),t(h),h=h.closest(a.AOD_DELIVERY_PROMISE_CSS_SELECTOR).querySelector(a.AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR),
g!==b.getElementIdentifier(b.elements.AOD_PINNED_OFFER)&&g!==b.getElementIdentifier(b.elements.AOD_STICKY_PINNED_OFFER)&&h.classList.remove(a.AUI_HIDE_ELEMENT_CSS_NAME),f.classList.add(a.AUI_HIDE_ELEMENT_CSS_NAME),f.classList.add(a.AOD_FASTTRACK_UPSELL_HIDE_CLASS))}}}return{executeHandlers:function(b){e.triggerWeblab(a.AOD_DELIVERY_TRUNCATION_REMOVAL_DESKTOP,a.WEBLAB_TREATMENT_T1);var c=f.state(a.AOD_PAGE_STATE);"undefined"===typeof c&&(c={});c=m(c,a.AOD_DELIVERY_MESSAGE_DATA_SELECTOR,a.AOD_DELIVERY_MESSAGE_DIV_SELECTOR,
b);c=m(c,a.AOD_UPSELL_MESSAGE_DATA_SELECTOR,a.AOD_UPSELL_MESSAGE_DIV_SELECTOR,b);c=m(c,a.AOD_AMAZON_DAY_MESSAGE_DATA_SELECTOR,a.AOD_AMAZON_DAY_MESSAGE_DIV_SELECTOR,b);f.state(a.AOD_PAGE_STATE,c);g(!0);h(!0);k(b)},truncatePinnedOfferDeliveryMessage:g,truncateStickyPinnedOfferDeliveryMessage:h,truncateOfferListDeliveryMessage:k}});l.when("A","jQuery","all-offers-display-constants").register("all-offers-display-delivery-promise-counter",function(f,d,a){return{fastTrackCountDown:function(b,c){function e(){var b=
new Date,c=b.getHours();f>c&&(c+=24);var r=b.getMinutes(),b=b.getSeconds();h=3600*c+60*r+b;c=g-h;if(1>c&&document.querySelectorAll){var b=document.querySelectorAll(a.AOD_DELIVERY_FASTTRACK),n=!1;if(b){for(r=0;r<b.length;++r)b[r].querySelector("#"+d)?b[r].style.display="none":n=!0;if(n&&(b=document.querySelectorAll("#"+d)))for(r=0;r<b.length;++r)b[r].style.display="none"}}c/=86400;r=Math.floor(c);c=24*(c-r);b=Math.floor(c);c=Math.floor(60*(c-b));p=setTimeout(e,1E3);r=24*r+b;b=1==r?"hr":"hrs";n=1==
c?"min":"mins";r=0==r?c+" "+n:0==c?r+" "+b:r+" "+b+" "+c+" "+n;if(l.length&&(t!=c||q)){for(b=0;n=l[b++];)n.innerHTML=r;t=c;q=!1}}var d=c,f=(new Date).getHours(),g,h,p,t,q=!0,l=function(a){var b=[];if(document.querySelectorAll)for(var c=document.querySelectorAll("#"+d),e=0;e<c.length;++e)for(var h=c[e].querySelectorAll("."+a),g=0;h&&g<h.length;g++)b.push(h[g]);return b}(a.AOD_FASTTRACK_COUNTDOWN_CLASS);1>l.length&&document.getElementById(d)&&document.getElementById(a.AOD_FASTTRACK_COUNTDOWN)&&l.push(document.getElementById(a.AOD_FASTTRACK_COUNTDOWN));
(function(a){var b=new Date,c=b.getHours(),d=b.getMinutes(),b=b.getSeconds();g=3600*c+60*d+b;g+=a;e()})(b);return{stopTimer:function(){clearTimeout(p)}}}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-elements").register("all-offers-display-delivery-promise-expander",function(f,d,a,b){function c(b){if(b.classList.contains(a.AOD_DDM_MORE_IDENTIFIER)){var c=b.closest(a.AOD_DELIVERY_PROMISE_CSS_SELECTOR).querySelector(a.AOD_DELIVERY_PROMISE_COLUMN_CSS_SELECTOR).querySelector(a.AOD_DDM_UPSELL_MESSAGE_SELECTOR);
b.classList.add(a.AUI_HIDE_ELEMENT_CSS_NAME);c&&(c=c.parentElement,c.classList.remove(a.AUI_HIDE_ELEMENT_CSS_NAME))}else{var d=b.closest(a.AOD_DELIVERY_PROMISE_CSS_SELECTOR).querySelector(a.AOD_DELIVERY_PROMISE_COLUMN_CSS_SELECTOR),c=d.querySelector(a.AOD_FASTTRACK_UPSELL_DIV_SELECTOR),d=d.querySelector(a.AOD_FASTTRACK_DELIVERY_PROMISE_DIV_SELECTOR);c.classList.remove(a.AUI_HIDE_ELEMENT_CSS_NAME);c.classList.add(a.AOD_FASTTRACK_UPSELL_SHOW_CLASS);c.classList.remove(a.AOD_FASTTRACK_UPSELL_HIDE_CLASS);
d.classList.remove(a.AUI_HIDE_ELEMENT_CSS_NAME);b.classList.add(a.AUI_HIDE_ELEMENT_CSS_NAME)}}return{expandOfferListDeliveryMessage:function(b){b=b.$event.target.closest(a.AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR);c(b)},expandPinnedOfferDeliveryMessage:function(){var e=b.getElementIdentifier(b.elements.AOD_PINNED_OFFER)+" "+a.AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR,e=document.querySelector(e);c(e)},expandStickyPinnedOfferDeliveryMessage:function(){var e=b.getElementIdentifier(b.elements.AOD_STICKY_PINNED_OFFER)+
" "+a.AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR,e=document.querySelector(e);c(e)}}});l.when("A","jQuery","all-offers-display-elements","all-offers-display-polyfill","all-offers-display-constants").register("all-offers-display-pinned-offer-image-animation",function(f,d,a,b,c){var e=0,m=!1,k=null,g=!1,h=!1,p=b.requestAnimationFrame();return{addPinnedOfferImageAnimation:function(){(k=a.getElement(a.elements.AOD_SCROLL_DIV_KEY))?k.scroll(function(){m||(p(function(){var b=k[0].scrollTop;g=e<b?!0:!1;e=k[0].scrollTop;
if(g&&!h&&30<b)a.getElement(a.elements.AOD_STICKY_PINNED_OFFER).addClass(c.AOD_STICKY_OFFER_SHOW_POSITION_CLASS),h=!0;else if(!g&&h&&30>b){var b=a.getElement(a.elements.AOD_STICKY_PINNED_OFFER),d="-"+b.outerHeight()+"px";b.css({top:d});b.removeClass(c.AOD_STICKY_OFFER_SHOW_POSITION_CLASS);h=!1}m=!1}),m=!0)}):n.ueLogError&&n.ueLogError({logLevel:"ERROR",attribution:"aod_scroll_element_not_found",message:"[Attempt to add scroll event to AOD scroll element. access undefined element]"})}}});"use strict";
l.when("A","jQuery","all-offers-display-constants","all-offers-display-elements").register("all-offers-display-pagination-display-components",function(f,d,a,b){function c(){b.getElement(b.elements.AOD_FOOTER_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);b.getElement(b.elements.AOD_FOOTER_SPINNER_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);b.getElement(b.elements.AOD_FOOTER_EOR_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);b.getElement(b.elements.AOD_FOOTER_SHOW_MORE_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS)}
return{displayEndOfResults:function(){c();b.getElement(b.elements.AOD_FOOTER_EOR_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);b.getElement(b.elements.AOD_FOOTER_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS)},displayShowMore:function(){c();b.getElement(b.elements.AOD_FOOTER_SHOW_MORE_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);b.getElement(b.elements.AOD_FOOTER_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS)},displaySpinner:function(){c();b.getElement(b.elements.AOD_FOOTER_SPINNER_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS);
b.getElement(b.elements.AOD_FOOTER_KEY).removeClass(a.AOD_HIDE_ELEMENT_CSS_CLASS)},hideFooter:function(){b.getElement(b.elements.AOD_FOOTER_KEY).addClass(a.AOD_HIDE_ELEMENT_CSS_CLASS)},hideAllComponents:c}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-pagination-display-components","all-offers-display-url-builder","all-offers-display-elements","all-offers-display-delivery-promise-handler","all-offers-display-ajax-controller","all-offers-display-state-manager").register("all-offers-display-pagination",
function(f,d,a,b,c,e,m,k,g){function h(){u*a.AOD_PAGE_SIZE>=r?0<r&&b.displayEndOfResults():3>u?e.getElement(e.elements.AOD_SCROLL_DIV_KEY).bind("scroll",t):b.displayShowMore()}function p(){e.getElement(e.elements.AOD_SCROLL_DIV_KEY).unbind("scroll",t)}function t(){e.getElement(e.elements.AOD_SCROLL_DIV_KEY)[0].offsetHeight+e.getElement(e.elements.AOD_SCROLL_DIV_KEY)[0].scrollTop+1>=e.getElement(e.elements.AOD_SCROLL_DIV_KEY)[0].scrollHeight&&q()}function q(){var e;e=r>u*a.AOD_PAGE_SIZE?!0:!1;e&&!g.isLoadingOffers()&&
("function"==typeof uet&&uet("bb",a.AOD_PAGINATION_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1}),u++,g.setLoadingOffersState(!0),c.setRefMarker(a.AOD_PAGINATION_REF_MARKER_PREFIX+u),c.addParam(a.AOD_ONLY_RENDER_OFFER_LIST_PARAM,"true"),c.addParam(a.AOD_PAGE_NO_PARAM,u),b.displaySpinner(),p(),k.call(c.getAodUrl(),{method:"get",success:l,error:v,timeout:a.AOD_AJAX_TIMEOUT}))}function l(c){g.setLoadingOffersState(!1);b.hideFooter();e.getElement(e.elements.AOD_OFFER_LIST_KEY)[0].insertAdjacentHTML("beforeend",
c);"function"==typeof uet&&uet("cf",a.AOD_PAGINATION_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});h();m.executeHandlers(!0);"function"==typeof uex&&uex("ld",a.AOD_PAGINATION_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1})}function v(c){g.setLoadingOffersState(!1);b.displayEndOfResults();"function"==typeof uex&&uex("ld",a.AOD_PAGINATION_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});n.ueLogError&&n.ueLogError({logLevel:"ERROR",attribution:"aod_ajax_error",message:"[Ajax call failed]"})}var u,r,B;return{loadNextPage:q,resetPagination:function(){u=
1;g.setLoadingOffersState(!1);c.removeParam(a.AOD_ONLY_RENDER_OFFER_LIST_PARAM);c.addParam(a.AOD_PAGE_NO_PARAM,u);b.hideAllComponents();p()},initialisePagination:function(){B=d("#"+a.AOD_OFFER_COUNT_HIDDEN_INPUT_HTML_ID);r=parseInt(B.val(),10);u=1;g.setLoadingOffersState(!1);h()}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-content-loader","all-offers-display-state-manager").execute("all-offers-display-history-manager",function(f,d,a,b,c){n.onpopstate=function(a){c.isAODOpen()&&
b.closeAod()}});l.when("A","jQuery","all-offers-display-filter-state-manager","all-offers-display-constants").register("all-offers-display-state-manager",function(f,d,a,b){var c=!1,e=!1,m=!1,k=!1,g=!0,h=JSON.parse(b.AOD_DEFAULT_CHECKBOX_STATE),p=null;return{setAODOpenState:function(a){c=a},setAODLoadingState:function(a){e=a},setBottomSheetOpenState:function(a){m=a},setLoadingOffersState:function(a){k=a},setAodModifiedState:function(a){g=a},setPreviousAsinRetrieved:function(a){p=a},isAODOpen:function(){return c},
isAODLoading:function(){return e},isLoadingOffers:function(){return k},isBottomSheetOpen:function(){return m},isAodModified:function(){return g},getPreviousAsinRetrieved:function(){return p},resetAODStates:function(){k=m=e=c=!1},setClosingState:function(){h=a.getCheckboxState()},hasOpeningToClosingStateChanged:function(a,b){var c=!1;if(a)a:if(c=h,Object.keys(a).length!==Object.keys(c).length)c=!0;else{for(var e=Object.keys(a),d=0;d<e.length;d++){var m=e[d];if(a[m]!==c[m]){c=!0;break a}}c=!1}return b?
c||b!==p:c}}});l.register("all-offers-display-constants",function(){return{AOD_RELATIVE_URL:"/gp/aod/ajax",AOD_WEBLAB_TRIGGER_URL:"/gp/aod/ajax/weblab-trigger.html?",AOD_AJAX_TIMEOUT:1E4,AOD_AJAX_METHOD:"post",AOD_ANIMATION_TIMEOUT:300,AOD_PAGE_SIZE:10,AOD_ANIMATION_EASING_TYPE:"ease-out",AOD_PAGE_STATE:"aodPageState",AOD_REF_MARKER_PREFIX:"/ref\x3d",AOD_WEBLAB_TREATMENT_KEY:"treatment",AOD_WEBLAB_NAME_KEY:"name",WEBLAB_TREATMENT_T1:"T1",WEBLAB_TREATMENT_C:"C",AOD_REF_MARKER_URL_MATCHER:"/ref\x3d",
AOD_SIDESHEET_HTML_ID:"all-offers-display",AOD_SPINNER_HTML_ID:"all-offers-display-spinner",AOD_BACKGROUND_HTML_ID:"aod-background",AOD_SCROLL_DIV_HTML_ID:"all-offers-display-scroller",AOD_OFFER_LIST_HTML_ID:"aod-offer-list",AOD_DEFAULT_PARAMS_ID:"all-offers-display-params",AOD_WEBLAB_TREATMENT_ID:"all-offers-display-weblab-treatment",AOD_WEBLAB_NAME_ID:"all-offers-display-weblab-name",AOD_DISPLAY_RELOAD_ELEMENT_ID:"all-offers-display-reload-param",AOD_PPD_RIGHT_ELEMENT_ID:"ppd-right",AOD_SUPERLEAF_CSS_CLASS:"superleaf",
AOD_TRUE_STATE:"true",AOD_FALSE_STATE:"false",AOD_IS_CUSTOMIZABLE_ASIN_ID:"all-offers-display-is-customizable-asin",AOD_IS_CUSTOM_BUYBOX_QUALIFIED:"aod-is-custom-buybox-qualified",HTML_ANCHOR_ELEMENT_KEY:"HTMLAnchorElement",HTML_INPUT_ELEMENT_KEY:"HTMLInputElement",AOD_CLOSE_FROM_CUSTOM_CONFIGURATOR:"aod-close-from-custom-configuration",AOD_CLOSE_BY_ESC_KEY:"aod-close-on-esc-action",AOD_DIV_FOR_FOCUS:"aod-div-for-focus",AOD_SHOW_WIDGET_ACTION:"show-all-offers-display",SEARCH_AOD_SHOW_WIDGET_ACTION:"s-show-all-offers-display",
AOD_CLOSE_WIDGET_ACTION:"close-all-offers-display",AOD_WIDGET_TRIGGER_EVENTS:"click",AOD_WIDGET_KEY_HANDLER:"click keydown",AOD_HIDE_ELEMENT_CSS_CLASS:"aod-hide",AOD_VISIBILITY_HIDDEN_CSS_CLASS:"aod-visibility-hidden",AOD_FOOTER_HTML_ID:"aod-footer",AOD_FOOTER_EOR_HTML_ID:"aod-end-of-results",AOD_FOOTER_SHOW_MORE_ID:"aod-show-more-offers",AOD_FOOTER_SPINNER_HTML_ID:"aod-offer-load-spinner",AOD_OFFER_COUNT_HIDDEN_INPUT_HTML_ID:"aod-total-offer-count",AOD_ONLY_RENDER_OFFER_LIST_PARAM:"isonlyrenderofferlist",
AOD_PAGE_NO_PARAM:"pageno",AOD_PAGINATION_REF_MARKER_PREFIX:"aod_page_",AOD_DISPLAY_MAX_HEIGHT_NONE_STYLE:{"max-height":"none"},AOD_DISPLAY_BLOCK_STYLE:{display:"block"},AOD_DISPLAY_NONE_STYLE:{display:"none"},AOD_DISPLAY_ATTRIBUTE_NAME:"display",AOD_DISPLAY_NONE_VALUE:"none",AOD_DISPLAY_INLINE_STYLE:{display:"inline"},AOD_SHOW_FILTER_ACTION:"aod-show-filter-action",AOD_FILTER_CHECKBOX_ID:"aod-filter-checkbox",AOD_NO_OFFERS_NORMAL_FONT_CLASS:"aod-no-offer-normal-font",AOD_INPUT:"input",AOD_TOGGLE_FILTER_CHECKBOX_ACTION:"aod-toggle-filter-checkbox",
AOD_CLEAR_ALL_FILTER_ACTION:"aod-filter-clear-all",AOD_FILTER_SHOW_ARROW_ID:"aod-filter-show",AOD_FILTER_HIDE_ARROW_ID:"aod-filter-hide",AOD_FILTER_CONTAINER_ID:"aod-filter-list",AOD_FILTER_CLEAR_REF_MARKER:"aod_f_clearAll",AOD_MOBILE_FILTER_APPLY_REF_MARKER:"aod_mf_apply",AOD_AOD_CLOSE_FILTER_CLEAR_REF_MARKER:"aod_f_close",AOD_FILTER_MOUSE_LEAVE_EVENT:"aod-filter-container-hover",AOD_FILTER_NO_OFFER_STRING_STYLE_CLASS:"aod-no-offer-filter-col",AOD_FILTER_NO_OFFER_COLUMN_ID:"aod-no-offer-filter-col-id",
AOD_PINNED_OFFER:"aod-pinned-offer",AOD_CONTAINER:"aod-container",AOD_DEFAULT_CHECKBOX_STATE:JSON.stringify({all:!0}),AOD_PINNED_OFFER_SHOW_MORE_ACTION:"aod-pinned-offer-show-more",AOD_PINNED_OFFER_SHOW_LESS_ACTION:"aod-pinned-offer-show-less",AOD_PINNED_OFFER_SHOW_MORE_DIV_ID:"aod-pinned-offer-show-more-link",AOD_PINNED_OFFER_ADDITIONAL_CONTENT_DIV_ID:"aod-pinned-offer-additional-content",AOD_PINNED_OFFER_SHOW_LESS_DIV_ID:"aod-pinned-offer-show-less-link",AOD_PINNED_OFFER_SCROLL_TOP_ACTION:"aod-pinned-offer-scroll-top",
AOD_CONDITION_TEXT_SECTION_CLASS:"expandable-text-section",AOD_CONDITION_TRUNCATED_TEXT_CLASS:"expandable-truncated-text",AOD_CONDITION_EXPAND_TEXT_CLASS:"expandable-expanded-text",AOD_MOQ_BOTTOM_SHEET_CLOSE_ACTION:"aod-moq-sheet-close-action",AOD_MOQ_BOTTOM_SHEET_SHOW_ACTION:"aod-show-moq-sheet",AOD_BLOCK:"block",AOD_CONDITION_EXPAND_LINK_CLASS:"expandable-expand-action",AOD_CONDITION_REDUCE_LINK_CLASS:"expandable-reduce-action",AOD_CONDITION_EXPAND_TEXT_ACTION:"expand-text",AOD_CONDITION_REDUCE_TEXT_ACTION:"reduce-text",
AOD_KEY_UP_EVENT:"keyup",AOD_KEY_DOWN_EVENT:"keydown",AOD_SCROLL_EVENT:"scroll",AOD_LOAD_OFFERS_ACTION_NAME:"aod-load-offers",AOD_OVERFLOW_HIDDEN_STYLE:{overflow:"hidden"},AOD_Z_INDEX_CSS_STYLE:"z-index",AOD_SUPERLEAF_Z_INDEX_OPEN_VALUE:200,AOD_OVERFLOW_SCROLL_STYLE:{overflow:"scroll"},AOD_MOBILE_OVERFLOW_HIDDEN_STYLE:{overflow:"hidden",position:"fixed"},AOD_MOBILE_OVERFLOW_SCROLL_STYLE:{overflow:"scroll",position:""},AOD_OVERFLOW_X_HIDDEN_STYLE:{"overflow-x":"hidden"},AOD_OFFER_COUNT_STRING_DIV_ID:"aod-total-offer-count-string",
AOD_SORT_DETAILS_STRING_DIV_ID:"aod-sort-details-string",AOD_FILTER_OFFER_COUNT_STRING_DIV_ID:"aod-filter-offer-count-string",AOD_FILTER_REQUEST_KEY:"filters",AOD_FILTER_BOTTOM_SHEET_ID:"aod-filter-bottom-sheet-id",AOD_FUNCTION_STRING:"function",AOD_SCRIPT_STRING:"script",AOD_DELIVERY_MESSAGE_DATA_SELECTOR:".aod-delivery-message-data",AOD_UPSELL_MESSAGE_DATA_SELECTOR:".aod-upsell-message-data",AOD_AMAZON_DAY_MESSAGE_DATA_SELECTOR:".aod-amazon-day-message-data",AOD_DELIVERY_MESSAGE_DIV_SELECTOR:"#delivery-message",
AOD_UPSELL_MESSAGE_DIV_SELECTOR:"#upsell-message",AOD_AMAZON_DAY_MESSAGE_DIV_SELECTOR:"#amazon-day-message",AOD_FASTTRACK_CSS_SELECTOR:".aod-fasttrack",AOD_SCHEDULED_DELIVERY_CSS_SELECTOR:".aod-scheduled-delivery",AOD_SCHEDULED_DELIVERY_ROOT_DIV_SELECTOR:"#sd_buybox_root",AOD_DELIVERY_PROMISE_TRUNCATE_CSS_NAME:"aod-delivery-promise-truncate",AOD_DELIVERY_PROMISE_EXPANDED_CSS_NAME:"aod-delivery-promise-expanded",AOD_DELIVERY_PROMISE_COLUMN_CSS_SELECTOR:".aod-delivery-promise-column",AOD_DELIVERY_PROMISE_CSS_SELECTOR:".aod-delivery-promise",
AOD_DELIVERY_MORE_ELEMENT_CSS_SELECTOR:".aod-delivery-more",AOD_DELIVERY_BOTTOMSHEET_CSS_SELECTOR:".delivery_promise_bottomsheet",AOD_DELIVERY_MEASURE_HEIGHT_CSS_NAME:"aod-delivery-measure-height",AOD_DELIVERY_PROMISE_MORE_ACTION:"aod-delivery-more-action",AOD_FASTTRACK_UPSELL_DIV_SELECTOR:".aod-upsell-message",AOD_FASTTRACK_DELIVERY_PROMISE_DIV_SELECTOR:".aod-delivery-promise-message",AOD_FASTTRACK_UPSELL_SHOW_CLASS:"ft-upsell-message-show-show",AOD_FASTTRACK_UPSELL_HIDE_CLASS:"ft-upsell-message-show-hide",
AOD_DELIVERY_TRUNCATION_REMOVAL_DESKTOP:"DP_AOD_DELIVERY_TRUNCATION_REMOVAL_DESKTOP_290953",AOD_DELIVERY_TRUNCATION_REMOVAL_MOBILE:"DP_AOD_DELIVERY_TRUNCATION_REMOVAL_MOBILE_290956",AOD_MOBILE_DELIVERY_CLOSE_ACTION:"aod-mobile-delivery-close-action",AOD_DELIVERY_FASTTRACK:"#fast-track",AOD_FASTTRACK_COUNTDOWN_CLASS:"ftCountdownClass",AOD_FASTTRACK_COUNTDOWN:"ftCountdown",AOD_DYNAMIC_DELIVERY_DIV_SELECTOR:"#dynamicDeliveryMessage",AOD_DDM_MESSAGE_DIV_SELECTOR:"#ddmDeliveryMessage",AOD_DDM_UPSELL_MESSAGE_SELECTOR:"#upsell-message",
AOD_DDM_PROMISE_EXPANDED_CSS_NAME:"aod-ddm-promise-expanded",AOD_DDM_MORE_IDENTIFIER:"aod-ddm-identifier",AUI_HIDE_ELEMENT_CSS_NAME:"aok-hidden",AUI_GRID_8_CSS:"a-span8",AUI_GRID_12_CSS:"a-span12",AOD_BOTTOM_SHEET_PADDING_CLASS:"aod-bottom-sheet-padding",AOD_BOTTOM_SHEET_AGS_NOTE_STATE:"AOD_AGS_NOTE_BOTTOM_SHEET",AOD_STATE:"AOD",AOD_FILTER_SELECTED_COUNT_ID:"aod-filter-count-string",AOD_FILTER_STRING_ID:"aod-filter-string",AOD_MOBILE_FILTER_DONE_ACTION:"aod-mobile-filter-done-action",AOD_AGS_NOTE_TEXT_SECTION_CLASS:"ags-expandable-text-section",
AOD_AGS_NOTE__EXPEND_TEXT_SECTION_CLASS:"ags-expandable-expanded-text-li",AOD_AGS_NOTE_EXPAND_LINK_CLASS:"expandable-expand-action",AOD_AGS_NOTE_TRUNCATED_TEXT_CLASS:"ags-expandable-truncated-text",AOD_ZERO_OFFER_CLASS:"aod-zero-offer-class",AOD_POP_OVER_BEFORE_SHOW_EVENT:"a:popover:beforeShow:aod-image-popover",AOD_POP_OVER_BEFORE_HIDE_EVENT:"a:popover:beforeHide:aod-image-popover",AOD_POP_OVER_CLASS:"aod-popover",AOD_CONDITION_IMAGE_CLICK:"conditionImage-click",AOD_OFFER_INFORMATION_BLOCK:"aod-information-block",
AOD_CONDITION_EXPAND_TEXT_MOBILE_ACTION:"expand-text-mobile",AOD_AGS_NOTE_BOTTOM_SHEET_ID:"aod-ags-note-bottom-sheet-",AOD_CONDITION_NOTE_BOTTOM_SHEET_ACTION:"a-condition-note-sheet-close-action",AOD_AGS_EXPAND_TEXT_BOTTOM_SHEET:"ags-expand-text-bottom-sheet",AOD_AGS_NOTE_SHEET_CLOSE_ACTION:"aod-ags-note-sheet-close-action",AOD_HIDE_WIDGET_ACTION:"hide-all-offers-display",AOD_BOTTOM_SHEET_TRIGGER:"a:declarative:a-sheet:click",ESC_KEY_CODE:27,SHIFT_KEY_CODE:16,TAB_KEY_CODE:9,ENTER_KEY_CODE:13,AOD_TOUCH_EVENT_NAME:"touchmove",
AOD_MOUSE_MOVE_EVENT_NAME:"mouseleave",AOD_RAFN_SHIPPING_EXPAND_TEXT_BOTTOM_SHEET:"rafn-shipping-expand-text-bottom-sheet",AOD_RAFN_SHIPPING_SHEET_CLOSE_ACTION:"aod-rafn-shipping-sheet-close-action",AOD_ATC_PRIME_TRUNCATED_TEXT_ID:"aod-atc-prime-truncated-text-id",AOD_ATC_PRIME_FULL_TEXT_ID:"aod-atc-prime-full-text-id",AOD_PINNED_ATC_PRIME_TRUNCATED_TEXT_CLASS:"aod-pinned-offer-atc-t",AOD_PINNED_ATC_PRIME_FULL_TEXT_CLASS:"aod-pinned-offer-atc-f",AOD_ATC_PRIME_OFFER_MORE_ACTION:"aod-atc-prime-offer-more-action",
AOD_ATC_PRIME_TRUNCATED_TEXT_CLASS:"aod-atc-prime-truncated-text-class",AOD_ATC_PRIME_OFFER_CLASS:"aod-atc-prime-offer-class",AOD_ATC_PRIME_FULL_TEXT_CLASS:"aod-atc-prime-full-text-class",AOD_DECLARATIVE_CLASS:"a-declarative",AOD_CN_AD_ID:"adv-float-div",AOD_CNAD_Z_INDEX_OPEN_VALUE:280,AOD_FILTERS_CSM_LATENCY_METRIC_SCOPE_NAME:"aod-filter-load",AOD_WEBLAB_TRIGGER_CSM_FAILURE_METRIC_SCOPE_NAME:"aod-weblab-trigger-failed",AOD_PAGINATION_CSM_LATENCY_METRIC_SCOPE_NAME:"aod-pagination-load",AOD_FULL_LOAD_CSM_LATENCY_METRIC_SCOPE_NAME:"aod-full-load",
AOD_FULL_LOAD_INCOMPLETE_CSM_LATENCY_METRIC_SCOPE_NAME:"aod-full-load-incomplete",AOD_SEARCH_WEBLAB_CHECK_LATENCY_METRIC_SCOPE_NAME:"aod-search-weblab-check",AOD_BOTTOM_SHEET_MAX_HEIGHT:"-400px",AOD_ATC_PRIME_NOTE_SHEET_CLOSE_ACTION:"aod-atc-prime-note-sheet-close-action",AOD_SCROLL_NONE_ON_SIDE_SHEET_CLASS:"aod-all-offers-display-block-scroll",AOD_GLOW_WIDGET_PLUGIN_NAME:"BottomSheetPlugin",AOD_PROPERTY_TYPE_FUNCTION:"function",AOD_ATTRIBUTE_CLASS:"class",AOD_ATTRIBUTE_ID:"id",AOD_ATTRIBUTE_HREF:"href",
AOD_CLOSEST_FUNCTION:"closest",AOD_NO_CONTENT_HTTP_STATUS:204,AOD_ENABLE_AOD_AUTO_LOAD:"enableAod\x3d1",AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE:"aodWeblabTriggerCallError",AOD_PROPERTY_NOT_SUPPORTED_MESSAGE:"aodPropertyUnsupportedMessage",AOD_SEARCH_WEBLAB_AJAX_FAILURE_CTR:"aodSearchAjaxWeblabCheckFailCtr",AOD_LOG_LEVEL_WARN:"WARN",AOD_LOG_LEVEL_ERROR:"ERROR",AOD_LOG_LEVEL_FATAL:"FATAL",AOD_SWATCH_CONTAINER_ID:"aod-filter-swatch-box",AOD_SWATCH_CONTAINER_TOP_ID:"aod-filter-swatch-container-top",AOD_SWATCH_EXPAND_STRING_CONTAINER_ID:"aod-filter-swatch-box-expand-div",
AOD_SWATCH_CONTAINER_BOTTOM_ID:"aod-filter-swatch-container-bottom",AOD_SWATCH_PREFIX:"aod-swatch-id-",AOD_SWATCH_CLASS_NAME:"aod-filter-swatch",AOD_SWATCH_CLEAL_ALL_LINK_CONTAINER_ID:"aod-filter-swatch-box-clear-all-div",AOD_SWATCH_SEE_ALL_LINK_CONTAINER_ID:"aod-filter-swatch-box-expand-div",AOD_SWATCH_SEE_ALL_LINK_ELEMENT_ID:"aod-filter-swatch-expand-link",AOD_SWATCH_SEE_ALL_CONTAINER_ID:"aod-filter-swatch-box-expand-div",AOD_SWATCH_WEBLAB_NAME_FORM_ID:"aod-swatch-weblab-name",AOD_SWATCH_WEBLAB_TREATMENT_FORM_ID:"aod-swatch-weblab-treatment",
AOD_SWATCH_EXPAND_ACTION:"aod-filter-swatch-expand",AOD_UPDATE_FILTER_SWATCH_ACTION:"aod-filter-swatch-update-action",AOD_FILTER_SWATCH_CLEAR_ALL_ACTION:"aod-filter-swatch-clear-all-action",AOD_SUPERLEAF_AVAILABILITY_SELECTOR:"#superleafActionPanel #new-toggle-buybox, #used-toggle-buybox, #digital-toggle-buybox",AOD_CONDITION_ALL_TEXT:"all",CONDITION_OPEN_BOX:"openBox",CONDITION_USED:"used",CONDITIONS_MAP:{used:{usedAcceptable:!0,usedGood:!0,usedLikeNew:!0,usedVeryGood:!0},new:{"new":!0},collectible:{collectible:!0},
refurbished:{refurbished:!0},sponsored:{sponsored:!0},rentals:{rentals:!0},all:{all:!0},openbox:{usedAcceptable:!0,usedGood:!0,usedLikeNew:!0,usedVeryGood:!0}},OPENBOX_SELECTED_FILTER:["openBox","usedAcceptable","usedGood","usedLikeNew","usedVeryGood"],AOD_PINNED_OFFER_ENABLED_INPUT_ID:"aod-pinned-offer-present",AOD_STICKY_PINNED_OFFER_CONTAINER:"aod-sticky-pinned-container",AOD_STICKY_PINNED_OFFER:"aod-sticky-pinned-offer",AOD_STICKY_PINNED_OFFER_SHOW_MORE_ACTION:"aod-sticky-pinned-offer-show-more",
AOD_STICKY_PINNED_OFFER_SHOW_LESS_ACTION:"aod-sticky-pinned-offer-show-less",AOD_STICKY_PINNED_OFFER_SHOW_MORE_DIV_ID:"aod-sticky-pinned-offer-show-more-link",AOD_STICKY_PINNED_OFFER_ADDITIONAL_CONTENT_DIV_ID:"aod-sticky-pinned-offer-additional-content",AOD_STICKY_PINNED_OFFER_SHOW_LESS_DIV_ID:"aod-sticky-pinned-offer-show-less-link",AOD_DISPLAY_BLOCK_CLASS:"aod-display-block",AOD_STICKY_OFFER_SHOW_POSITION_CLASS:"aod-sticky-pinned-offer-show-position",ASIN:"asin",PAGE_CONTEXT_SEARCH:"sp",PAGE_CONTEXT_KEY:"pc",
HTML_BODY_TAG:"body",AOD_BACKGROUND_CONTENT:"\x3cdiv id\x3d'aod-background' class\x3d'a-section aok-hidden aod-darken-background'\x3e\x3c/div\x3e",AOD_BACKGROUND_DECLARATIVE_CONTENT:"\x3cspan class\x3d'a-declarative' data-action\x3d'close-all-offers-display' data-close-all-offers-display\x3d'{}'\x3e\x3c/span\x3e",AOD_SPINNER_CONTENT:"\x3cspan class\x3d'a-spinner a-spinner-medium'\x3e\x3c/span\x3e",AOD_SPINNER_CONTAINER_CONTENT:"\x3cdiv id\x3d'all-offers-display-spinner' class\x3d'a-spinner-wrapper aok-hidden'\x3e\x3c/div\x3e",
AOD_CONTAINER_CONTENT:"\x3cdiv id\x3d'all-offers-display' class\x3d'a-section'\x3e\x3c/div\x3e"}});"use string";l.when("A","jQuery","all-offers-display-constants").register("all-offers-display-elements",function(f,d,a){var b={},c={aodFooter:"#"+a.AOD_FOOTER_HTML_ID,aodFooterEOR:"#"+a.AOD_FOOTER_EOR_HTML_ID,aodFooterShowMore:"#"+a.AOD_FOOTER_SHOW_MORE_ID,aodFooterSpinner:"#"+a.AOD_FOOTER_SPINNER_HTML_ID,additionalContent:"#"+a.AOD_PINNED_OFFER_ADDITIONAL_CONTENT_DIV_ID,showMoreLink:"#"+a.AOD_PINNED_OFFER_SHOW_MORE_DIV_ID,
showLessLink:"#"+a.AOD_PINNED_OFFER_SHOW_LESS_DIV_ID,stickyAdditionalContent:"#"+a.AOD_STICKY_PINNED_OFFER_ADDITIONAL_CONTENT_DIV_ID,stickyShowMoreLink:"#"+a.AOD_STICKY_PINNED_OFFER_SHOW_MORE_DIV_ID,stickyShowLessLink:"#"+a.AOD_STICKY_PINNED_OFFER_SHOW_LESS_DIV_ID,hideElement:"."+a.AOD_HIDE_ELEMENT_CSS_CLASS,aodHiddenOfferCountInputDiv:"#"+a.AOD_OFFER_COUNT_STRING_DIV_ID,aodFilterOfferCountStringDiv:"#"+a.AOD_FILTER_OFFER_COUNT_STRING_DIV_ID,allOffersDisplay:"#"+a.AOD_SIDESHEET_HTML_ID,allOffersDisplaySpinner:"#"+
a.AOD_SPINNER_HTML_ID,aodBackground:"#"+a.AOD_BACKGROUND_HTML_ID,offerList:"#"+a.AOD_OFFER_LIST_HTML_ID,scrollDiv:"#"+a.AOD_SCROLL_DIV_HTML_ID,filterBottomSheet:"#"+a.AOD_FILTER_BOTTOM_SHEET_ID,aodPinnedOffer:"#"+a.AOD_PINNED_OFFER,aodStickyPinnedOffer:"#"+a.AOD_STICKY_PINNED_OFFER,aodContainer:"#"+a.AOD_CONTAINER,aodDefaultParams:"#"+a.AOD_DEFAULT_PARAMS_ID,aodWeblabTreatment:"#"+a.AOD_WEBLAB_TREATMENT_ID,aodWeblabName:"#"+a.AOD_WEBLAB_NAME_ID,aodAtcPrimeTruncatedText:"#"+a.AOD_ATC_PRIME_TRUNCATED_TEXT_ID,
aodAtcPrimeStickyTruncatedText:"."+a.AOD_PINNED_ATC_PRIME_TRUNCATED_TEXT_CLASS,aodAtcPrimeStickyFullText:"."+a.AOD_PINNED_ATC_PRIME_FULL_TEXT_CLASS,aodAtcPrimeFullText:"#"+a.AOD_ATC_PRIME_FULL_TEXT_ID,aodDisplayReloadElement:"#"+a.AOD_DISPLAY_RELOAD_ELEMENT_ID,aodSuperleaf:"#"+a.AOD_PPD_RIGHT_ELEMENT_ID+"."+a.AOD_SUPERLEAF_CSS_CLASS,aodSuperleafAvailabilitySelector:a.AOD_SUPERLEAF_AVAILABILITY_SELECTOR,aodIsCustomizableAsin:"#"+a.AOD_IS_CUSTOMIZABLE_ASIN_ID,aodIsCustomBuyboxQualified:"#"+a.AOD_IS_CUSTOM_BUYBOX_QUALIFIED,
aodPinnedOfferEnabledId:"#"+a.AOD_PINNED_OFFER_ENABLED_INPUT_ID,aodStickyPinnedOfferContainer:"#"+a.AOD_STICKY_PINNED_OFFER_CONTAINER,aodCNADId:"#"+a.AOD_CN_AD_ID};return{elements:{AOD_FOOTER_KEY:"aodFooter",AOD_FOOTER_EOR_KEY:"aodFooterEOR",AOD_FOOTER_SHOW_MORE_KEY:"aodFooterShowMore",AOD_FOOTER_SPINNER_KEY:"aodFooterSpinner",ADDITIONAL_CONTENT_KEY:"additionalContent",SHOW_MORE_LINK_KEY:"showMoreLink",SHOW_LESS_LINK_KEY:"showLessLink",STICKY_ADDITIONAL_CONTENT_KEY:"stickyAdditionalContent",STICKY_SHOW_MORE_LINK_KEY:"stickyShowMoreLink",
STICKY_SHOW_LESS_LINK_KEY:"stickyShowLessLink",HIDE_ELEMENT_KEY:"hideElement",AOD_HIDDEN_OFFER_COUNT_INPUT_DIV_KEY:"aodHiddenOfferCountInputDiv",AOD_FILTER_OFFER_COUNT_STRING_DIV_KEY:"aodFilterOfferCountStringDiv",ALL_OFFERS_DISPLAY_KEY:"allOffersDisplay",ALL_OFFERS_DISPLAY_SPINNER_KEY:"allOffersDisplaySpinner",AOD_BACKGROUND_KEY:"aodBackground",AOD_SCROLL_DIV_KEY:"scrollDiv",AOD_OFFER_LIST_KEY:"offerList",AOD_FILTER_BOTTOM_SHEET_KEY:"filterBottomSheet",AOD_PINNED_OFFER:"aodPinnedOffer",AOD_STICKY_PINNED_OFFER:"aodStickyPinnedOffer",
AOD_CONTAINER:"aodContainer",AOD_SUPERLEAF_KEY:"aodSuperleaf",AOD_SUPERLEAF_AVAILABILITY_SELECTOR:"aodSuperleafAvailabilitySelector",AOD_DEFAULT_PARAMS:"aodDefaultParams",AOD_WEBLAB_TREATMENT:"aodWeblabTreatment",AOD_WEBLAB_NAME:"aodWeblabName",AOD_ATC_PRIME_TRUNCATED_TEXT:"aodAtcPrimeTruncatedText",AOD_ATC_STICKY_PRIME_TRUNCATED_TEXT:"aodAtcPrimeStickyTruncatedText",AOD_ATC_PRIME_FULL_TEXT:"aodAtcPrimeFullText",AOD_ATC_STICKY_PRIME_FULL_TEXT:"aodAtcPrimeStickyFullText",AOD_DISPLAY_RELOAD:"aodDisplayReloadElement",
AOD_IS_CUSTOMIZABLE_ASIN:"aodIsCustomizableAsin",AOD_IS_CUSTOM_BUYBOX_QUALIFIED:"aodIsCustomBuyboxQualified",AOD_IS_PINNED_OFFER_ENABLED:"aodPinnedOfferEnabledId",AOD_STICKY_PINNED_OFFER_CONTAINER:"aodStickyPinnedOfferContainer",AOD_CN_AD_ID_KEY:"aodCNADId"},getElement:function(a){if(!b[a]){var m=d(c[a]);m&&(b[a]=m)}if(b[a])return b[a];n.ueLogError&&n.ueLogError({logLevel:"ERROR",attribution:"aod_element_not_found",message:"[Attempt to access undefined element]"})},getElementIdentifier:function(a){return c[a]},
resetQueriedElements:function(){for(var a=Object.keys(b),c=0;c<a.length;c++)b[a[c]]=null}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-weblab-helper","all-offers-display-polyfill").register("all-offers-display-olplink-handler",function(f,d,a,b,c){function e(b){if(b&&b.$event&&b.$event.target){var e=b.$event.target;if("A"===e.nodeName&&e.href)return e.href;if(c.isPropertySupported(b.$event.target,a.AOD_CLOSEST_FUNCTION,a.AOD_PROPERTY_TYPE_FUNCTION))return(b=e.closest("a"))?
b.href:null;if(b=d(e).closest("a"))return b.attr("href")}return null}return{isHyperLink:function(a){return e(a)?!0:!1},redirectToOlp:function(a){(a=e(a))?n.location.href=a:n.ueLogError&&n.ueLogError({logLevel:"ERROR",attribution:"aod_no_href",message:"[Redirection failed since href is null]"})},getRefMarker:function(b){b=e(b);if(-1===b.indexOf(a.AOD_REF_MARKER_URL_MATCHER))return null;b=b.split(a.AOD_REF_MARKER_URL_MATCHER)[1];return-1!==b.indexOf("?")?b.split("?")[0]:-1!==b.indexOf("#")?b.split("#")[0]:
b},shouldOpenAOD:function(a){return b.isAodEnabled(a.data)}}});l.when("A","jQuery","all-offers-display-constants","aod-csm-counter","aod-element-details").register("all-offers-display-polyfill",function(f,d,a,b,c){return{isPropertySupported:function(e,d,f){var g=typeof e[d]===f;if(!g){e=c.elementDetailsObject(e);var h=a.AOD_PROPERTY_NOT_SUPPORTED_MESSAGE,h=h+(", element: "+JSON.stringify(e));l.log(h+(", propertyName: "+d+", propertyType: "+f),a.AOD_LOG_LEVEL_WARN,a.AOD_PROPERTY_NOT_SUPPORTED_MESSAGE);
b.triggerUnitCounter(a.AOD_PROPERTY_NOT_SUPPORTED_MESSAGE)}return g},requestAnimationFrame:function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.msRequestAnimationFrame||n.oRequestAnimationFrame||function(a){setTimeout(a,0)}}}});"use strict";l.when("A","jQuery","all-offers-display-constants","all-offers-display-url-helper").register("all-offers-display-url-builder",function(f,d,a,b){function c(a,b){a&&null!==b&&(e[a]=b)}var e={},m="",k=null;return{getAodUrl:function(){var b=
a.AOD_RELATIVE_URL;m&&(b=b.concat(a.AOD_REF_MARKER_PREFIX+m));k&&c(a.ASIN,k);var d="",f;for(f in e)if(e.hasOwnProperty(f)){var l=encodeURI(f+"\x3d"+encodeURIComponent(e[f]));""!==d&&(d=d.concat("\x26"));d=d.concat(l)}return b=b.concat("?"+d)},addParam:c,addParams:function(b){for(var d in b)k&&d===a.ASIN?c(a.ASIN,k):b.hasOwnProperty(d)&&c(d,b[d])},removeParam:function(a){if(a)return delete e[a]},setRefMarker:function(a){m=a},resetParameterMap:function(){e={}},getDefaultParameterMap:function(a){return b.getAodDefaultParams(a.data)},
updateDebugParameter:function(){-1!==n.location.href.indexOf("isDebug\x3d1")&&c("isDebug","1")},setOverrideAsin:function(a){k=a},clearOverrideAsin:function(){k=null}}});l.when("A","jQuery","all-offers-display-elements").register("all-offers-display-url-helper",function(f,d,a){function b(a){for(var b={},d=Object.keys(a),f=0;f<d.length;f++)b[d[f]]=a[d[f]];return b}return{getAodDefaultParams:function(c){if(c&&c.asin)return b(c);c=a.getElement(a.elements.AOD_DEFAULT_PARAMS);if(null!==c&&0<c.length)return b(c[0].dataset);
n.ueLogError&&n.ueLogError({logLevel:"ERROR",attribution:"aod_param_map_not_found",message:"[Attempt to return aodDataSet to load AOD side sheet. empty aodDataSet returned.]"});return{}}}});l.when("A","jQuery","all-offers-display-elements","all-offers-display-constants","aod-csm-counter").register("all-offers-display-weblab-helper",function(f,d,a,b,c){function e(a){return a&&"object"===typeof a&&a.aodWeblabName&&a.aodWeblabTreatment?!0:!1}function m(b){if(e(b))return b.aodWeblabTreatment;var c=null,
d=a.getElement(a.elements.AOD_WEBLAB_TREATMENT);d&&(c=d.val());return b.aodWeblabTreatment=c}function k(a,d,e){var f=b.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE;a&&a.responseURL&&(f=f+", URL: "+a.responseURL);d&&(f=f+", statusText: "+d);e&&(f=f+", errorThrown: "+e);l.log(f,b.AOD_LOG_LEVEL_ERROR,b.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE);c.triggerUnitCounter(b.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE)}var g={};return{isAodEnabled:function(a){return b.WEBLAB_TREATMENT_T1===m(a)},triggerAodWeblab:function(c){var d=m(c),
l;if(e(c))l=c.aodWeblabName;else{var q=null;(l=a.getElement(a.elements.AOD_WEBLAB_NAME))&&(q=l.val());l=c.aodWeblabName=q}var q=b.AOD_WEBLAB_TRIGGER_URL,w;w=/^[CT][0-9]*$/.test(d)?!0:!1;w&&(w=g[c.aodWeblabName.toLowerCase()]?!0:!1,w=!w);w&&(q=q+b.AOD_WEBLAB_TREATMENT_KEY+"\x3d"+d,d=l&&("string"===typeof l||l instanceof String)?!0:!1,d&&(q=q+"\x26"+b.AOD_WEBLAB_NAME_KEY+"\x3d"+l),d={method:b.AOD_AJAX_METHOD,error:k,timeout:b.AOD_AJAX_TIMEOUT},n.navigator&&navigator.sendBeacon?navigator.sendBeacon(q)||
f.ajax(q,d):f.ajax(q,d),g[c.aodWeblabName.toLowerCase()]=!0)}}});l.when("A","jQuery","all-offers-display-constants").register("all-offers-display-search-helper",function(f,d,a){return{addSearchPageContextDetails:function(b){b&&(b.pc=a.PAGE_CONTEXT_SEARCH);var c={};if(b.url){var c={},d=b.url.split("?");if(!d||2===d.length)if(d=d[1].split("\x26"))for(var f=0;f<d.length;f++){var k=d[f].split("\x3d");k&&2!==k.length||(c[k[0]]=k[1])}}d=Object.keys(c);for(f=0;f<d.length;f++)b[d[f]]=c[d[f]];return b},isSearchPageCall:function(b){return b&&
b.pc&&b.pc===a.PAGE_CONTEXT_SEARCH?!0:!1}}});n.amz_js_PopWin=function(f,d,a){n.open(f,d,a).focus();return!1};l.when("A","jQuery","all-offers-display-constants","all-offers-display-elements","all-offers-display-url-helper","all-offers-display-url-builder").register("all-offers-display-utils",function(f,d,a,b,c,e){function m(a){a.preventDefault()}var k=document.getElementById(a.AOD_BACKGROUND_HTML_ID),g,h;return{resetAODElements:function(){for(var b=document.querySelector("#"+a.AOD_SIDESHEET_HTML_ID).children,
c=0;c<b.length;c++)-1!==b[c].className.split(" ").indexOf(a.AOD_DECLARATIVE_CLASS)&&b[c].parentElement.removeChild(b[c])},enableScroll:function(){d("body").css(a.AOD_OVERFLOW_SCROLL_STYLE);k&&document.getElementById(a.AOD_BACKGROUND_HTML_ID).removeEventListener(a.AOD_TOUCH_EVENT_NAME,m)},disableScroll:function(){d("body").css(a.AOD_OVERFLOW_HIDDEN_STYLE);k&&k.addEventListener(a.AOD_TOUCH_EVENT_NAME,m,{passive:!1})},increaseZIndexSuperleaf:function(){var c=b.getElement(b.elements.AOD_SUPERLEAF_KEY);
c&&0<c.size()&&(g=c.css(a.AOD_Z_INDEX_CSS_STYLE),c.css(a.AOD_Z_INDEX_CSS_STYLE,a.AOD_SUPERLEAF_Z_INDEX_OPEN_VALUE))},decreaseZIndexSuperleaf:function(){var c=b.getElement(b.elements.AOD_SUPERLEAF_KEY);c&&0<c.size()&&c.css(a.AOD_Z_INDEX_CSS_STYLE,g)},getCurrentAsin:function(a){if(a&&a.asin)return e.setOverrideAsin(a.asin),a.asin;a=c.getAodDefaultParams(a);e.clearOverrideAsin();return a.asin},decreaseZIndexCNAD:function(){var c=b.getElement(b.elements.AOD_CN_AD_ID_KEY);c&&0<c.size()&&(h=c.css(a.AOD_Z_INDEX_CSS_STYLE),
c.css(a.AOD_Z_INDEX_CSS_STYLE,a.AOD_CNAD_Z_INDEX_OPEN_VALUE))},increaseZIndexCNAD:function(){var c=b.getElement(b.elements.AOD_CN_AD_ID_KEY);c&&0<c.size()&&c.css(a.AOD_Z_INDEX_CSS_STYLE,h)}}});l.when("A").register("aod-csm-counter",function(f){var d=n.ue;return{incrementAndTriggerCounter:function(a){d&&d.count&&d.count(a,(d.count(a)||0)+1)},triggerUnitCounter:function(a){d&&d.count&&d.count(a,1)}}});l.when("A","jQuery","all-offers-display-constants").register("aod-element-details",function(f,d,a){return{elementDetailsObject:function(b){var c=
{};b.tagName&&(c.tagName=b.tagName);b.getAttribute&&typeof b.getAttribute===a.AOD_PROPERTY_TYPE_FUNCTION&&(b.getAttribute("id")&&(c.id=b.getAttribute(a.AOD_ATTRIBUTE_ID)),b.getAttribute("class")&&(c.class=b.getAttribute(a.AOD_ATTRIBUTE_CLASS)),b.getAttribute("href")&&(c.href=b.getAttribute(a.AOD_ATTRIBUTE_HREF)));return c}}});"use strict";l.when("A","jQuery","all-offers-display-constants","all-offers-display-filter-state-manager","all-offers-display-weblab-trigger").register("all_offers_display_filter_swatch_manager",
function(f,d,a,b,c){function e(){document.getElementById(a.AOD_SWATCH_SEE_ALL_CONTAINER_ID).classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS)}function m(){document.getElementById(a.AOD_SWATCH_SEE_ALL_CONTAINER_ID).classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS)}function k(){if(Array.isArray(l)&&l.length)return l;for(var b=document.getElementById(a.AOD_SWATCH_CONTAINER_TOP_ID).getElementsByClassName(a.AOD_SWATCH_CLASS_NAME),c=0;c<b.length;c++)l.push(b[c].getAttribute("id").split(a.AOD_SWATCH_PREFIX)[1]);
return l}function g(){for(var a=k(),c=b.getSelectedFiltersMap(),d=[],e=Object.keys(c),f=0;f<a.length;f++)for(var g=0;g<e.length;g++)c[e[g]].forEach(function(b){a[f]===b&&d.push(b)});return d}function h(b,c){if(Array.isArray(b)){c=document.getElementById(c).getElementsByClassName(a.AOD_SWATCH_CLASS_NAME);for(var d=0;d<c.length;d++){var e=c[d].getAttribute("id").split(a.AOD_SWATCH_PREFIX)[1];b.includes(e)?c[d].classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS):c[d].classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS)}}}
var l=[],n=!1;return{updateFilterSwatches:function(){var b;b=document.getElementById(a.AOD_SWATCH_CONTAINER_ID)?!0:!1;if(b){b=g();Array.isArray(b)&&b.length?document.getElementById(a.AOD_SWATCH_CONTAINER_ID).classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS):(n=!1,document.getElementById(a.AOD_SWATCH_CONTAINER_ID).classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS));var c=[],d=document.getElementById(a.AOD_SWATCH_CONTAINER_TOP_ID).clientWidth,f=document.getElementById(a.AOD_SWATCH_CLEAL_ALL_LINK_CONTAINER_ID).clientWidth;
document.getElementById(a.AOD_SWATCH_SEE_ALL_LINK_ELEMENT_ID).innerText="+99";e();f+=document.getElementById(a.AOD_SWATCH_SEE_ALL_LINK_CONTAINER_ID).clientWidth;m();for(var k=0;k<b.length;k++){var l=document.getElementById(a.AOD_SWATCH_PREFIX+b[k]);l.classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS);var p=l.clientWidth;l.classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS);f+=p;if(f<=d)c.push(b[k]);else break}d=[];for(f=0;f<b.length;f++)c.includes(b[f])||d.push(b[f]);h(c,a.AOD_SWATCH_CONTAINER_TOP_ID);h(d,a.AOD_SWATCH_CONTAINER_BOTTOM_ID);
n?document.getElementById(a.AOD_SWATCH_CONTAINER_BOTTOM_ID).classList.remove(a.AOD_HIDE_ELEMENT_CSS_CLASS):document.getElementById(a.AOD_SWATCH_CONTAINER_BOTTOM_ID).classList.add(a.AOD_HIDE_ELEMENT_CSS_CLASS);!n&&Array.isArray(d)&&d.length?(b=d.length,document.getElementById(a.AOD_SWATCH_SEE_ALL_LINK_ELEMENT_ID).innerText="+"+b,e()):m()}},setExpandedModeTrue:function(){n=!0},setExpandedModeFalse:function(){n=!1},triggerFilterSwatchWeblab:function(){var b=document.getElementById(a.AOD_SWATCH_WEBLAB_NAME_FORM_ID),
d=document.getElementById(a.AOD_SWATCH_WEBLAB_TREATMENT_FORM_ID);b&&d&&c.triggerWeblab(b.value,d.value)}}});l.when("A","jQuery","all-offers-display-constants","aod-csm-counter").register("all-offers-display-weblab-trigger",function(f,d,a,b){function c(c,d,e){var f=a.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE;c&&c.responseURL&&(f=f+", URL: "+c.responseURL);d&&(f=f+", statusText: "+d);e&&(f=f+", errorThrown: "+e);l.log(f,a.AOD_LOG_LEVEL_ERROR,a.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE);b.triggerUnitCounter(a.AOD_WEBLAB_TRIGGER_FAILURE_MESSAGE)}
var e=[];return{triggerWeblab:function(b,d){var g;g=/^[CT][0-9]*$/.test(d)?!0:!1;g&&(g=b&&("string"===typeof b||b instanceof String)?!0:!1);g&&(g=0<=e.indexOf(b)?!0:!1,g=!g);g&&(d=a.AOD_WEBLAB_TRIGGER_URL+a.AOD_WEBLAB_TREATMENT_KEY+"\x3d"+d+"\x26"+a.AOD_WEBLAB_NAME_KEY+"\x3d"+b,g={method:a.AOD_AJAX_METHOD,error:c,timeout:a.AOD_AJAX_TIMEOUT},n.navigator&&navigator.sendBeacon?navigator.sendBeacon(d)||f.ajax(d,g):f.ajax(d,g),e.push(b))}}});l.when("all-offers-display-elements").register("aod-gestalt",
function(f){return{registerAssets:function(d){l.now("gestaltCustomizableProductDetailPage",d).execute(function(a,b){a===x&&l.register("gestaltCustomizableProductDetailPage");b===x&&l.register(d)})},isGestalt:function(){var d=f.getElement(f.elements.AOD_IS_CUSTOMIZABLE_ASIN);return d&&"true"===d.val()},initializeGestaltAod:function(){l.when("A","gestalt-aod-initializer").execute("gestalt-init",function(d,a){d.trigger("initialize-gestalt-aod")})},isCustomBuyboxQualified:function(){var d=f.getElement(f.elements.AOD_IS_CUSTOM_BUYBOX_QUALIFIED);
return d&&"true"===d.val()}}});l.when("aod-gestalt-assets-loader","aod-gestalt").execute("aod-gestalt-assets-initialize",function(f,d){d.isGestalt()&&f.loadAssets()});l.when("aod-gestalt").register("aod-gestalt-assets-loader",function(f){return{loadAssets:function(){f.registerAssets("gestaltDesktopDevice")}}});l.when("A","jQuery","all-offers-display-constants","all-offers-display-content-loader","all-offers-display-weblab-helper","all-offers-display-olplink-handler","all-offers-display-url-builder",
"all-offers-display-polyfill","all-offers-display-pinned-offer-image-animation","all-offers-display-search-helper","all-offers-display-html-builder").register("aod-load-event-handler",function(f,d,a,b,c,e,l,k,g,h,p){var t=n.uet;return{renderAodAction:function(d){try{if(d.$event.preventDefault(),d.$event.stopPropagation(),p.createAODContainer(),e.isHyperLink(d))if(k.isPropertySupported(d.$event.target,a.AOD_CLOSEST_FUNCTION,a.AOD_PROPERTY_TYPE_FUNCTION))if(e.shouldOpenAOD(d)||h.isSearchPageCall(d.data)){"function"===
typeof t&&t("bb",a.AOD_FULL_LOAD_CSM_LATENCY_METRIC_SCOPE_NAME,{wb:1});b.showAod(d);var f=e.getRefMarker(d);f&&l.setRefMarker(f);b.loadAllAodBlocks(d);h.isSearchPageCall(d.data)||c.triggerAodWeblab(d.data);var n=setInterval(function(){0<document.getElementsByClassName(a.AOD_DIV_FOR_FOCUS).length&&(clearInterval(n),document.getElementsByClassName(a.AOD_DIV_FOR_FOCUS)[0].focus(),g.addPinnedOfferImageAnimation())},1E3)}else h.isSearchPageCall(d.data)||c.triggerAodWeblab(d.data),e.redirectToOlp(d);else e.redirectToOlp(d)}catch(u){e.redirectToOlp(d)}}}});
l.when("A").register("all-offers-display-html-builder",function(){return{createAODContainer:function(){}}})})});
/* ******** */
